{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-05T12:48:55.323414+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-064b6e0",
                        "ci role": "arn:aws:iam::880231462042:role/ci-role-69293e2",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "577eebc6-e013-4b1a-b3ac-96df14f8f1e6",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-064b6e0",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-064b6e0"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:KK0tgO+89F8/HLrC:LZ2Mvo8aZtnIOcgK8sFey0rjngI7oMPt3JHTZILGFVTyLUVYb1ZcrpukAXWEV+Llpjzvrm4foA=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-064b6e0",
                        "bucketName": "backend-bucket-064b6e0",
                        "domainName": "backend-bucket-064b6e0.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-064b6e0.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-064b6e0.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-064b6e0.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::577eebc6-e013-4b1a-b3ac-96df14f8f1e6",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::880231462042:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:HpQanZED6RUKK9nW:PjcmM9PiPKD9oIHt93E3RAZXIHaUFBTtFWJah4lrZ9/d7Ay6jL9X3xHT6Lg8mokxPM3KKpfZNAdrgSjBsgwt4yP5dQ+WBD2Ps5jdWY/eeZW/o5ToyYvtQi76URyxvcpFToMV0d2yhGRh5u6Mou5khPyQ7lx6JOq9tlTn9turzip4NKOUEUUv5RNCpryAn/caDgNnddfEcnqNMNty6n50cJvdILA4kwIE"
                        },
                        "arn": "arn:aws:iam::880231462042:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::577eebc6-e013-4b1a-b3ac-96df14f8f1e6",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-69293e2",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::880231462042:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-69293e2"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:BX8GXh46JC3+thhW:230BwqJmcvYcbolcke1UY37gIUGLrtt/sXMTz6gQo47KJ1v7RkLQdbj2knc2FzfZJn27ftYiHuiblwX+eBLKEgmNsN1OjXJrwMm15zf61bk5Mxnksr6AXJEunrfEj4u64RGZ4dfhGr4R6O1UmSpKmJ88yQBSYP7CFDhO8jV+O0sm28YkRXb8FUiwFyLep8zVT5aijx9QDWRYBXWO/2m0MCR+uM2on/gLdtq36garVAQoRWatqE4nRBw0SHgMjhTRn2Gp4tGj3xgjxf+xZTqyvKpFaCKUZl0ZqZmzZtyTHXiFpPRdHslS+AaTLVVHyPXHHO5Sx6bwHd36IcOK/bSsmVHxMMSny7HYpvFkyLK9e2Vt8C2nDSDC/vOg58QiFmE/r+6vp8alfODuXOIgi3hJ9lLi/cVqJa4+b0/7AxcQoRJudL8ku5Du8ADcbc7ezYyAYClqZZj5ZCh9C7gO+AoY0oURKSg0XW9XALsukAY1+GqezOn7t0VDglIbrIk34luOohIejcIgd5ou+gBq4zH2fM0gCVq6+lj2djJ5Kf3Q5xjHnxSkl3IvuVFL9FlFofeJ+a7N9iru8WG8x3TOwp/MSlz8DLmhteJW0hyRTDzITDs8H4MLDZ7a7LuSX6X/2chHOvnsYVSIbB6OtxoCR/hsxrwZhIM/npHSKY0p5P6XnLImwG+3t7Xt7YQsV5z00eaSfnaAN+6IlT3zY8lrCS9+VqF5hYEAnjYFoFanEnwXQpYLc4ngjRdwGuAp2Dxb+Rgn8xy4KSmlvirdraAHRoShtGgxqpgKVfsO9Ca63sHassaKLOgroA44pOK4vDbRMlXnpbCdMjS46biDEESa0vLf/0O9sSNCLQsnpBLt515Oj2PX6DEvUHPjUciPqutXjZeDXBlEef97o2ti3NGzJakZ4mmUcsu4SZ8JyM0AfbHuIUzqvEXQfc9NgGv4+W3KqZrq04aukEfUCfZDxqtFfsipA7fw+3IH9Q9yeJYBFQb0BqozqCqWFeo2ubFA8fqdA4nPyXtMUUQjumudNUmgv1YpmVTKDuBL8ZLMZxqbXSZq1OZUEmU0DBR2yCPibMIClvFfsHXzNjIeVC0r6Ko1FyIgSWXwzYL1yYNcm3NEkfrq0TTeC10tPNbhiFUPYS3WDnihOKaT309K0iFLVCWqKY3SDZqlareKR/2NKD8nOszSjNZthQkRZCiJhcii4HeIpc/iucPKawAQwLa0xRFvwchOp7iuoQvSKMsOKvCsY0l12NLZc/cbG3dw5xJq5dh5nS8mh5yYTQRdhUZbv561BwjrvcSm3zVSwVM3Ng1IkVSfrbdaSsd+U1A1AlyX2VjYESuQnjua9PQH2dK43IBw7hJ1qAVt3qJlVzYO1aoPz+JvxTXyB6ng/lerBkPA3NLhsj3cOmHjkm2c+MeTzAfKcWqMSUwsUVmUKsaRPtKEz7MYD9Nl5h7Eek2BYehzKTDBk+LJyLNYo09bqhwmfWB7g2pQd1yKjHxxRZXTRras8xphvIuQzHighJlqoIOMqawG"
                        },
                        "arn": "arn:aws:iam::880231462042:role/ci-role-69293e2",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::880231462042:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA4Z4PCGSNA3SZNBHNB",
                        "roleName": "ci-role-69293e2"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::577eebc6-e013-4b1a-b3ac-96df14f8f1e6",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "90dd5aed-6a84-4bb5-9a7b-3ff97ad90d00",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::880231462042:user/cloud_user\",\"arn:aws:iam::880231462042:role/ci-role-69293e2\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:NjKYwE9pI+R2a7tW:bD7VljacsRqqYN6u753WtDStidEW12CqXAPrvc/7+Gqjk+Lx8/b+sFqcoNFW1pXDAAAADWUB8vrRCw3JmYS2HwbB83v0uK7RzG4zBQiHN745mwcfvgM9bLME/Bh9i/M2OCuYFIshw40mEQqCuLwOMaiQEYRuSz5xWqiZ8nUAys95435ezwMjYQkOdCirFCZWmsBjR3OMH8hpUyreJaUq9xonZFOSn9ky0BoEIFAZddkWZ8j+OorNcDMYlc+dP47vhcM5kNLMsRIiQsGckHwsTIl3o3+ttZDJK07d63lCUXokPNHkjoEmomOWdO1/Zq+Nh3a42UwrsNHM719M08ctr25tJ0VFt3P9P2Zt/RxFIgQN9qKrurM3Cb2pLdbobe9yfkc/a8+6ExIpPWGa6pjczLn+e88ZAfY3SUp0WULJPCKS571QIwDcdiTjvO0JvQ/UxIAE37cU"
                        },
                        "arn": "arn:aws:kms:us-east-1:880231462042:key/90dd5aed-6a84-4bb5-9a7b-3ff97ad90d00",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "90dd5aed-6a84-4bb5-9a7b-3ff97ad90d00",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::880231462042:role/ci-role-69293e2",
                                            "arn:aws:iam::880231462042:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::577eebc6-e013-4b1a-b3ac-96df14f8f1e6",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "90dd5aed-6a84-4bb5-9a7b-3ff97ad90d00"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:O/z/T7h4rpbjNB29:8IRutV5Z3PVVFlPjep7vY1z01LIaCIVdJ0gzAoDrhOdCuHlskM0KLj/3x9z3wVxim9km4bUn/cptsZgPAtQmL4Yq8ksJQHR/XVG6Op7UwibSy0m+d++IQAMZWxikYqRdUA=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "90dd5aed-6a84-4bb5-9a7b-3ff97ad90d00"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::577eebc6-e013-4b1a-b3ac-96df14f8f1e6",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}