{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-07T10:53:10.26523+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-5dab4f4",
                        "ci role": "arn:aws:iam::815528447289:role/ci-role-f6dc288",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "0baaecbc-1b49-4e3a-9666-15fe45f0085f",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::815528447289:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:/cmVS8N6ibXs4Cop:E4UmjmA9vmAZMhVqe+1bSZUO1upkW3dCubsyACz25ddmGqqg6FYl5BNL4R9vZQeTpMwrQJA7zHsozNug96Ciau6X6E+gr2LNUkCIPFuccrQf6WuTN2WGFg3gHIvZpGdKYChU7e1tLOtEZtSLz/mFz7Ki4L9FFH06mYGmncjZ9IFYf7D4iiFwkSzNglHrPBYovRmO4kpSCZNuXmLCzWxa3w3bCzUFkNZC"
                        },
                        "arn": "arn:aws:iam::815528447289:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::0baaecbc-1b49-4e3a-9666-15fe45f0085f",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-f6dc288",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::815528447289:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-f6dc288"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:WfZhyczENHscs98p:nuB2PKcv2h17SZrGzidz6TKLA9j2YJ805UVFGP53Y8Z375GEK1J1ohZ8pXf2Y6ZIWfnQPpPonxNf96Gk8w+hN1tzj9APJebwOWnNYLAYu4yBNsF/AD6Sk/Jvqdw/zFOSSs5D7Ibx0p9iOjRI1kcGe9ZPRrutJjO4gggiQsuPbgrGEAHs4T6ELbDvMjH11Bu6HIt+RFZxXbAVT3HHwHX4wtW1RmcSbC7mBuszx1kSRepZcGRyzN1pODHVUu0b7/Y+a56lekqigq9cEpo+nDAHDY9EnoNm7UhceCv0Er9GZgw4hdZ/Vb3KadPrda/CRF+DMi+XWCyrQdFmkISCdeocLsdNftS9frj5IJ4oikYwdKnc4/xv7wXmRwzYOFXu+ZuC1ltrX9Rg3Lv4El443KfBMJA5pvucT/JoiYKUsSCvbSYAn+CEzA9rlzTH5YYMNUJl3ntg7qdzAhKGrWRmST1wNKD/gBZgj5g7McEan5IYf00woXddRbBcq8l99IViJ66Q903r0OHcFn8EmAqFHzcOlm3M1kp/i+S5Q5wK16dzcLXQkGVAz1KMkp9R1gPLRPxcPc9+KB5Q7zXgBiiX6h3GBDHL5VoX5aPVIR64LiSuvNk4bKakyU7pR/1bRTB2oN7RQ3Z1/luIIjsy/zjqlTg4eYhMBrorBbc3vvyNIyTgmGMcNaCFypa4sI3cArHcdbN1RxStt2A/3dxhGAdziMhygtkFY4QjBuG+hsinb5nOREyVQhE/fcKu3j82vHCoOQwjCVw6O7AX/pN2Y5JqWuDJ0V4LI0+EcwO4v1OMclAHqSMxybxBGXJwuGGIk4z9I6BK2jBOwur8uSam6hfDG7bjwjXuExfgDA+Rva43MoLS9TZb9+1U5xsHa+Ql8btIyYM0dvKXJb14uDgVgtA5+gtdaSt8pSX2/9KUXt3bRcmq23bYon60UFYeKqvWryNWYJt9zkkLUb81vDHMahTmLHmqg7TbX5c9LdP4wIYkYa4Flt6rgEem0QiLWjrao6zxIvwAUoWg6AkClzsprUzZ81kYzMgZ7+kvKo/pY/Ti+0OWofl+l2TNbBWs3RHlGibHu2gYRr7k54wBPoKo263QSIOgrK3Oa04O4FV3tFR9+W6jdlaDqJH0RHr8FgRNTIyZxEeicJfsoaFSinR36RVuh+NqbWppt2qUqpr+ewNm6E/wrVzZ1VX2Jhvdg5QnKu4ECSjjsF/FT8UtOgQXN4YOYB2p8Hr1kqu7rof2KaRpCgg2BJrBqa53Cji6/5YLTLKvv+xgVF8fEFq4gsM0xxD3jZsaxyUTUWWFmgePVoOBaP3w+il6UhHOOwLGQJPj68gQsnkSar8VSWDDmzIg4mI8iA3KmzwWKNO+YBJfSIQbe5NQIpy317ClQzXZV7eFQJmNXl/uvPpxv+de4dhLz//NNe5+sYM3c4NarXniP6V7Hcy4Rkd2iV7BXRKfvg+Majf8zk3THcRWhP2i6KHtj1EAPEYsOg+Kj4xacByP/oFClShBUZ9hx87HZoo7qukNDGY1"
                        },
                        "arn": "arn:aws:iam::815528447289:role/ci-role-f6dc288",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::815528447289:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA33YKIRU45OUOTWR55",
                        "roleName": "ci-role-f6dc288"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::0baaecbc-1b49-4e3a-9666-15fe45f0085f",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-5dab4f4",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-5dab4f4"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:UHu6F4amBODzdWds:QaKADvnUtKIAPqQ/ERunCRzeCN/LmV7K1QB9I7dRfxGUxFOvC5gWYscAx9qZ0sTgsoFoEP1YUA=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-5dab4f4",
                        "bucketName": "backend-bucket-5dab4f4",
                        "domainName": "backend-bucket-5dab4f4.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-5dab4f4.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-5dab4f4.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-5dab4f4.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::0baaecbc-1b49-4e3a-9666-15fe45f0085f",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "f79502a4-30a9-42b2-8ece-423fd1b3c633",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::815528447289:user/cloud_user\",\"arn:aws:iam::815528447289:role/ci-role-f6dc288\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:7YKEgfSqaXW51NLQ:dAG1jX9Gd0qTgUYv29zGAIx/T6obKvWIQZsWZdBPouSaca2+t3fMmWNq2wzxobpcnYwml6cv1fGVzZhlTzTtzoPDbn0jv6SevDy71qraTz0l/zkkJJyPrKAb+0vlXUpV7r3iMWNFSLiAGTrgjeD0OKLgzcel1KQP3V36DLtqT3lJ1cuc15RNRtcJSNvV4aqMWFPNjVqQaO8e4kyQqLIvqXDUwVr+R3f8ypEAYzfbBId+UXRax5Eu7oKVRvr/+GeB+mVczjBlpDwjN0JQnvrp3UshfaSwdSB0rEatkMShF5jZhpxfkkpSATWx7PAOQeiggABwKumbJrYgPpqqFNPnN6AlWCK8R6Rc4NX1kWwDR8x3ORhq2lynd5K8Slp8YQlui5F8rYH3i3XU6LAfppFEWkSxCPXTAp3OEZyQp+Rz+mlCL1UrC/xHCIwnTB6YrlgNLaYOG2OO"
                        },
                        "arn": "arn:aws:kms:us-east-1:815528447289:key/f79502a4-30a9-42b2-8ece-423fd1b3c633",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "f79502a4-30a9-42b2-8ece-423fd1b3c633",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::815528447289:user/cloud_user",
                                            "arn:aws:iam::815528447289:role/ci-role-f6dc288"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::0baaecbc-1b49-4e3a-9666-15fe45f0085f",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "f79502a4-30a9-42b2-8ece-423fd1b3c633"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:mvou+eW+2qHrPqh0:hG3plfsYi99KaIq4cBSDNv+lDs2KomB68hBAq2kreImz4nqkGfiGU1MMr29GKRIMkOSWiS+M1eSxnPaC+qQBZQTGp4lPdtqiE03Y2+CmBYl6wy57fvg/HfrPbmE9V7Q4OQ=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "f79502a4-30a9-42b2-8ece-423fd1b3c633"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::0baaecbc-1b49-4e3a-9666-15fe45f0085f",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}