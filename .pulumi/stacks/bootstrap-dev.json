{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-08T16:26:33.462983+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-855ce55",
                        "ci role": "arn:aws:iam::371560908191:role/ci-role-0d63a4a",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "141c4f38-0d7e-428e-b0f5-be99f6df7506",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::371560908191:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:FhrroGe+dgRS4waC:2A9lpYGCIdyFq4Xl+dpN2H5nyPjpIopVWkEz5PXfjkrTBb7aJDnQYCD0LFy92etJk0SIpZd5NQ1+i6+nwFUZxaP6FoUjmlj7SZMrpPZvpcmdofrIKNRSdrpqWNbaeKZOGEyYTitNdV3Y4qwm8AOn6DBEgyhhzp0v0gbk62JAkBwi5e9xsbZTgYJbgriLR7bnAQ/5S6usVZ2ZqK1vypbcrBLHSnJ5D7/o"
                        },
                        "arn": "arn:aws:iam::371560908191:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::141c4f38-0d7e-428e-b0f5-be99f6df7506",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-0d63a4a",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::371560908191:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-0d63a4a"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:0xBeK/Ngcc5LQKPw:niNFH+jKCeWteIx/yKgAYLsn3zN+q/otiHzkhTrlhjSgy7mHG/hdeLk6KHmd6lZQtGL9tHsuuM7Fh8ZB3DvWClusrwIx/f9izeW0UNWwI6BL3QUlvrJX+X35tjULQA+fmw3CewLzEJi/y40q2BqONs1eH5ycvMGm62o7efAZ3DRc69m/XnFsPUdRDWPNGPHbvHQx+VOK7UTI/jKg9WEfuMWAvrzixTGYZbDM8gJZBKWYXeC+vRShTsNnlPkEw4qnEwET+iiMih01kGQkBSSct4jXc+YszxVXrJ/fK71qTXWnHDOV2NNlLgMSZhED6qXNpqrivCNFZUDWiG8kr7FtKcU/8QtDgVGAiZb9e0Bq3++j0DG0OyW/9mFoKpTV1JrIMKkiyR1XNJvJwU/pl51IVKxD8dCzSc932QconzbsEXImNwMaX08IKDaqXjqM8A5av7mVZjB5Q2a1gbo9qp8NcpC4/kmq6kVEtTmyRImdTrAeMnpRnWgRpiIkpOO1cYqm0AtYXPccTt2SDpI2MGntwnq5UY5k/zfGgIsRbCg7Q3Cy31BHmVAJ0Re8/PpXuCzMttpy4LoAZM90Y1L+Ey5zQQm5M77iHVRWs6Zf6iEjI8t8ryulj1FsAi+a+dQjfGn7UCXWlfV/wSeH4jjrbKcaRcRi+tN2tws8izVEhmWHL42LsHLfqmdy9n5gs65ROilPoNe0WWQ66vIRdPmjI0FScGxP9Q5A869h3lncLu98J+Bequ6BDPb79NxQwgk0SyJGPrWqI4Rr49h/d9haNuuOuYWHqJ+L+lcp547nehoSsHnjR1hNfAU2NgA/UQhfcMsiaWgcNXOmUwtzmvDDJCM6wungJs/OHCn7JCf6g5z7N2SnvizZqoGllGRJzPB+ZekGQ2uLWfA0ZmGBhr4Q5DbFFlNCEUciY0TrsDxc3a1092lpEaI3f1wLJNS3ve0IYDX81/lwgngHCITU9pDvoxyTwNSH+cdaHsMJa+mWYPOW45mzM3juARdBhFoPmQpsPgl0qSYPYhm344Tmigeb6kdOKJ5w7++zWQCax/ak3/is1pgB0bFfRw16bbnyVIzSZrfjMI41OcOOnNZ5TjIAjVGmf7yUkpyLQJTZS0Oa9pAuLxjT3AVphpQLxfu7CdfqlyZhpOAjy2lw58ZVHaq1WVl3Pk5mCjrF8d/NPXYmIxba5Wjp8qWkD9S/JsCO/DiDB9DaxpduMnFGoHqDQqrsNZ0jaGZV1ArWIyR0QHAEuRe8ffEW+dQck0IEgEL7zmOFMwUHfP+btECyfIApNhU1ehLfbyt7UYN3EUohKcYcxXB5j/p2UMjxk3rbOYGmbX5eikm2lVDlTH89zsmP/zq1cc8SxOi5H5o9ihFf3Z74hZHqEZWr3Wyzqzn0kr3jFe4A3nXRXUN+C5c/fmw0VKppgSJUIKC8HkR6xpVYcjaIMvg6q5LjeAseyC9epZOy1s42yGIwCLtj9mGFqirsipAuIB19M5reHeKSnAtpAW/5FyzRgUXCfl/+BqbrGKBbQAEG"
                        },
                        "arn": "arn:aws:iam::371560908191:role/ci-role-0d63a4a",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::371560908191:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAVNAWBQWP4X62YHGYN",
                        "roleName": "ci-role-0d63a4a"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::141c4f38-0d7e-428e-b0f5-be99f6df7506",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-855ce55",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-855ce55"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:gjlTvuv1mxR/dQrd:Qh9P3KI42P1qRCNgM7DOTRK4kZSvByrtDbdQR+8mhI8n1D68nn7H82ZzEHx/GktuJ3lOT4Gkhw=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-855ce55",
                        "bucketName": "backend-bucket-855ce55",
                        "domainName": "backend-bucket-855ce55.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-855ce55.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-855ce55.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-855ce55.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::141c4f38-0d7e-428e-b0f5-be99f6df7506",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "a87c8d80-677f-4dde-b885-2d9e37a5e693",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::371560908191:user/cloud_user\",\"arn:aws:iam::371560908191:role/ci-role-0d63a4a\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:vP80PEZQR347jhPT:gMaLG1fhh0DnUmO4AiH+CRp8I5UxmjCW/5Kv1JBk1Go7Qf+6SKyFQ5q6DOHwTt1eHNCZr1/SRW9vU0IE+4R7nBPByaM6azU8dEU8TzhetDT0NImYnTK6nMPLzS3UizTGBMPvxsKA1RDaN8E7fZ0/aQND3pJnGTUOlwFJrASKksOedbklP9N6UzVtun1aPzN4oxyE7sW9PG69kJ5kTYSDARQNZGUK9kvLXfQXBPjcpwZZ/Hwgh9t3ClbCdQ5HtsLNnae7sY64Xoixj2GzbX65Q1GZdYtWg+7EKOslssLsRA+jkXQByrjNHTsdh/4la2mT/5iAolvGnUG0ervEJ5SzLvzUvOiX4uTvq8H/bFIu74Gbnr1nfFxYqFtaXCvvWgZETtRvxP8y5m5Ap+rqCK373S5ved7yDPoB8xnKsGMWgHL/smmPvuIPkXUzfTGQUtAlFyTZkpFX"
                        },
                        "arn": "arn:aws:kms:us-east-1:371560908191:key/a87c8d80-677f-4dde-b885-2d9e37a5e693",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "a87c8d80-677f-4dde-b885-2d9e37a5e693",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::371560908191:user/cloud_user",
                                            "arn:aws:iam::371560908191:role/ci-role-0d63a4a"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::141c4f38-0d7e-428e-b0f5-be99f6df7506",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "a87c8d80-677f-4dde-b885-2d9e37a5e693"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:eFaQ8iVUFtRjowYW:w0yWOmje5DHBDIirH7njOBzD41v8jBjdkRwMUGaCx9KnL6HAuwJpSTibgObWiwyAVkzaVmuoaZmSWfspQzkAUoCDa8tAvdKhiUDtjRJJWbLJTRflSdU7RHWrfcCrM565CQ=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "a87c8d80-677f-4dde-b885-2d9e37a5e693"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::141c4f38-0d7e-428e-b0f5-be99f6df7506",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}