{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-03-29T13:54:34.961125+01:00",
                "magic": "c7840e4e7de4e536b01a267aff8f88ec491999a401479fe260e1e6b7b3ce0ef0",
                "version": "v3.27.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-bdf5566",
                        "ci role": "arn:aws:iam::333113274611:role/ci-role-be8fcd8",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "275a8554-b924-4b1b-aebc-18d3a01e5327",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::333113274611:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:dfzzZ9q7Xiu+H+45:ORYke1xGwQ4VqwRkXuh8je5iJvjLtHIcQxP5uZlKwIjGkG7twJmYpBWe8/eTKZ612ALw45EwDtnjwsuYskdElunP7DFZHsgPO/zkURbfh8TMFvsXDnBe8V/rji6m1tiewd3RO/pOGqpYuJr8ge1DcFu/shAhtA6PL2W57g/8xIujBe0QsF9cnO26H85qc2Da+HxpjflGqbt1mR/a5do1+eWdZbFWJuVH"
                        },
                        "arn": "arn:aws:iam::333113274611:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::275a8554-b924-4b1b-aebc-18d3a01e5327",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-be8fcd8",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::333113274611:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess"
                        ],
                        "roleName": "ci-role-be8fcd8"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:moKYrYqkZ6j5V7PV:lYscDeqBQMeKQX5axz+7nkulY8cL/jg6DTOYYeRK0PfBHfIPE5Zk9lGXtIAmC3c5u3+fVwP+md5SyStWljdRLl6mjoaDuBdD9/hYeQ3jpqzmc5yv2nsmELkJdBxyu1x86GUvWF61Lyb8obEgLRjRcmcdN6xMtLscZssRm7mafmrclrA6faRo1Kf9xfFwONGs06NueD2oamHlxsxshD9G+9nFBBvRN92cUGj1oIoQY1eiRY6d0bJ3LEToN9uAlhZaz6MrCQTBmDbjbbK9yv8B0ytnm4UEVFWqmGsMK3ULohnFyR/GTN3UiEcq0jIJdKMR4BR8h+g0Wbp9RBupw7cikX8LFB2SuTzFU1tw/75UQU0sG+BDw9aMRfy1hG4uUArBv8WXH30JzdtlZGmdmUNZZehZfPy26YZDsla1VgY2hQwC+KzVun5lPuCDBHQS33FKdwgundKA7pE1fJA1gybYi6BsN5At5dhHF9r7TlDbMXg7NsYq6LF/g+mtG0p1VpV1OtFPSG000lWHCl3UwRDsla2jgKXjLb6AoVm19h460QTZI4698uin2Na1GauRGpynkSPnTizNUgU3U5QNzF+XEgYbYHBoIWtG+nhm5TWRnxfeoQezi6RO55oTb9BRBj1/AI8GS0NLGnSbX38+3mZ+iwylAgUI9Ata2G9SDgotf9Kcfr6hN+yPEJ1xp8xH675OUkM5pKQu3Tdfl26Qosax0H8gJPBOgOTb8L5NEOlaLYuYQOiIBsomZ/3fQK9ososmDFYeZjplxA/Kg9CccYqDnn6t4iNP7k1sq/Mxicz/zaUR6AkVyzSlKt++s1sb8Re5N6hlQHlVZWsEwxM/gwhblkkFjJP+6v/RftOUKQYiK2dcQ8EltZisIxkv1PgxVKsXY6OHG9o49ohXI4nyQg6BQMxRBqs9S1w/Vw/kcMl9iHL1xA1CRw3cNh6WSXrlJtIWzI32dZXeEsVwoa/HKlLHMsYDaF5iFHAd1LaBsBE0b3sGAL26t8MqL4DlpluO5IA8r76fFAFb5N7hsfy6aZBM4MJ1c+hx+ptAGsQu6W/XZYEmi0vakTXJCqJPBamCPoCQNI/930vtsxntoXpuSPgx7kXugu8Vh64z4t1YkBn9Wcx3/ZWE8N4hgLuTWjAot7uSqswKSz6OQRW8AolqndptbskmbQMGhAp/7VsmUOCjWug2N7AvD3s9gGWE56mezcRFu+IwlCBc1YuSeVW4awZWyKkRLSEpU10zlgUnOuPvyT8Uy+hoOp9iMttU9O/4YmZ5jyOAnlYGHWQRW1qLPQ1if9ixJyqu4VNq3nZHKK2zstbn7QUEorNogO6WRTG8cY3bH19u"
                        },
                        "arn": "arn:aws:iam::333113274611:role/ci-role-be8fcd8",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::333113274611:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAU3DYZGDZ6FCTMKXUS",
                        "roleName": "ci-role-be8fcd8"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::275a8554-b924-4b1b-aebc-18d3a01e5327",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-bdf5566",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-bdf5566"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:O0iUeZYiyMqnGdS2:ceqpCME5tWnUBtawqR3+ok7QEQPFdrCVqYBFEvjKDZ9F0dBoBgGEpOI7P0sudOE4Nm4wY6sRGg=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-bdf5566",
                        "bucketName": "backend-bucket-bdf5566",
                        "domainName": "backend-bucket-bdf5566.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-bdf5566.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-bdf5566.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-bdf5566.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::275a8554-b924-4b1b-aebc-18d3a01e5327",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "e8e516fe-250f-4dd2-b5d1-39c36dffe120",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::333113274611:user/cloud_user\",\"arn:aws:iam::333113274611:role/ci-role-be8fcd8\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:qRPqVAJry46yLHW8:X62p2pUdci/5Bj1p+dVv8mclnciA4FtVrjpstIv8yd3jLGq9e7aJjlct34OYVSs+DOBRDuiwW8Aeka/Ibg0yn/q7ax1gTNN02v4BtoN1t6EsdYCWE+Bc9ODJx48iyemk4+Lqwuq/Y4rg342WG3oogeN6cKaq+ViXxFjGmuBxcr7IYoZrL+XcKOL8s29nZ5KhCgJspdE292z5P+tUge7JY2meVO7XBnnCd6tWnwoiBzauvmaEzFN6jQUdWAbrH50CSI4YsAJtDNSB9yGs4j8k+psa6cKYDJCNACNQtqhhGupAcEpLg/po72PJ5ZrDCp88GzSzlOjNyM8WW6kjxlomVZr5iJ5Lacvmyd7kyaNez9D4Bnd+8xhWKxLbqZ893aTFlTiXWZzS3VxHpYPYiMJK2QG+5Sl5gips7ORgjoUTCHfyNrtuWiLD2/rHagpKNKvNuuaiL6V7"
                        },
                        "arn": "arn:aws:kms:us-east-1:333113274611:key/e8e516fe-250f-4dd2-b5d1-39c36dffe120",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "e8e516fe-250f-4dd2-b5d1-39c36dffe120",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::333113274611:role/ci-role-be8fcd8",
                                            "arn:aws:iam::333113274611:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::275a8554-b924-4b1b-aebc-18d3a01e5327",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "e8e516fe-250f-4dd2-b5d1-39c36dffe120"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:UOazOP3r1uDLgDP4:+EuO+3TDGDkT/xFZemDOAxgYGgN4uvQCqjHEubhN8rLH72wx8U6TnFs91CwIoqcA4she+o03xVJ4T6L8hrvAnI2dNniKN4mt9B6eSk8+2KcN8pHHlT4j6x6oUdZufRTwsQ=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "e8e516fe-250f-4dd2-b5d1-39c36dffe120"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::275a8554-b924-4b1b-aebc-18d3a01e5327",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}