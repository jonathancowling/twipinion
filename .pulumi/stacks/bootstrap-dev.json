{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-05T17:25:15.7121+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-107bdf0",
                        "ci role": "arn:aws:iam::752309041204:role/ci-role-20825e8",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "7e98819b-3cfb-4a0d-b691-0221787acc73",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::752309041204:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:7hF0MJZ2tQuf36KI:z1H92bRM+nZ/+em1KaRs1T0ns5RMVQzuCHmHhYE8exRN0Z4czu9Q9p4W4Z7LK/8wuSYEUm7fq/WAPNUx38rZa+puAmWwNOG3Ga39nA50CIUKUQQif8nP8ffvmN8c+J8rWFTId+Ean/bocF1GrMdLfrLE1U6AofQ7uHcJjo18KPGEzvmfwWW/QudvetrNMEogLntRQLsA/P2E0qRlsrjIUjWUDft19+m2"
                        },
                        "arn": "arn:aws:iam::752309041204:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::7e98819b-3cfb-4a0d-b691-0221787acc73",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-20825e8",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::752309041204:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-20825e8"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:tlLXYd3hUAjOjrUM:YSyjlXjnlyP9Ev0g1FjfKE+kCwtvbObCka7oRJsIgkv6V668QmfDXLMRfbDbdMMkgCMVsviaGH/Gs7LwTi4L69UcL3UHW9bJ897mZ7ZTo8Sa28AYkKeW2LVrn6ks/+HFLhjgzZi6TQ0xQ7KtNLb6xFderyJHoZzXLbWZXeKtUdJ1W0zlsQbjEAqZVyb+8TUnzjuvdf/q4I+M4rJI3KXcjvoqdR0zL6uAmpP6HT7f9A6hezvxY35nQAfkfoDRfvIKnfyD/36FCMrhDg4L5dUJ744euYBjATXcDwCaxLrEu0etbN7hXeOSFnYKWAnKqs/JNuOBq6YBkUZSaGcVlUeqOZoV3CEhv+zS8HnGk+in2tdfcCE7MWuFys1yENeY3v/QoJLdk/scbpESsuz/YuOHcN3LW/J7CD7eqliBNEmED5aWcAodGVM3kyM+WGWOLQviejvR0POqsK3N4QbEkLnxEvdold4gPGw4LbhwNDrxPR4uci4h12aGeKP9wZaPNGMB74MjAWPkYpTmxe/oHJj+BFXyuQd7p9TYXSOCXUaKDC6m12ZMWVSRXx9Kws0AGnfzFa2WaogAQu++37BrECg7C3PfO6d8v/clKxRQKSn2RYzzFIk9/PbGvY/yyOUoIyKzBGHv7SDvRYnfpBK58fLqyAX1iFAzStDrVPRz0krxOget/LlBap25cowiGjkCYubWlvvsiHxWo3QlWsKh8DbpcvJ6XKvBY6kS16sDj0BhSPmdRqRnmrvDPvcRhJ8aLN4iNGb0fr82Uxa9QvJhMPHl0cP8vRNDBg4W7DwH5Cn5OsRQOXw/kLh1ezP1lHDxY+mh2VBBfXLbI8YrmErViH1CN/tzJxZ33HDRqONKBz489nhhPyCw2dQO3GbqZ0mE5F60vjmvRzlZfaP5x+yfKyryBMErkr27W5Elkj9m3xg7wWG2fYrKmAxWijM7RM2mVEas+8CYd+xaoqidMrGycOFN5iX13h0KPBceIkVHLwBBX9Wzk+ntHaEeSYVEQIykU9M/hqRhq1otWJT9HlFVMXRUqtWUlMKqitVyONKwRHAK+YqUcsIEYpQ60O2xq0he4JPT8v9+3NC2ALnVOzSwKJg/tdhy55oozQUH5CI82MRjtMaOpJzYeh9iY4wL1cd0+gnXVgwJ/S2LvpDMwscHGSxlU3jWKchMEzQOeYayLH0f0eA3PQkKlsHmXEroXIVvBsh8f7GMoY0i3HdTYFOffo6WZhvhjfoOtRSelQY2Y1L5gX0pxQ061g8BPx3/TsS9VUdQY+5d/E0O+oiUr3O1wIta12PDyWF8oP8sXkI8DSgVDa2OuDCXHP5MhiyfO8TDUCsDdEq2O3B2Sx9GGlkuGO7BxZp92mEARwoOU01S+KUJ0NFySA/UdGzE7yY9kBle5ffOLMSesw3H4W5CLsFnxC0CeIiuPM0iOlpq8dnT0f+7rkP0X1/13y03GB35csA/Ef8X8QDGs0+5Dy0cTPL0We1o9VcPnIwzcs9/4HG14qcSptRVMftlEEnyMGP5UkIo"
                        },
                        "arn": "arn:aws:iam::752309041204:role/ci-role-20825e8",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::752309041204:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA26KI47A2MUUUAHZKF",
                        "roleName": "ci-role-20825e8"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::7e98819b-3cfb-4a0d-b691-0221787acc73",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-107bdf0",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-107bdf0"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:K9aVCSGmn9vRB002:EVv4M5efpDJ9dOmA9myjmrIHE4Kps4v55OXJZRrIkepkN/NiGiNAvJnvaT1PRdMtXVSP04vctg=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-107bdf0",
                        "bucketName": "backend-bucket-107bdf0",
                        "domainName": "backend-bucket-107bdf0.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-107bdf0.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-107bdf0.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-107bdf0.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::7e98819b-3cfb-4a0d-b691-0221787acc73",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "3a3d70ff-d99f-49b7-aaaf-cca7b9a4945d",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::752309041204:user/cloud_user\",\"arn:aws:iam::752309041204:role/ci-role-20825e8\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:SRyeW7hN6LNFGfDn:IIv9IKjvVnXyKQTWga7RnWIF+LChZA67aEeb0ArvgWLKm0bV5jhh+vy6zxu5FZN6yGe6/5Y2vT6nWqMBwVLCioIWP74CFkElquYirISUU7/fn9LfXpZKjpo+yIMy//znudGzAjuSdm75bSytziDYga/fkv8yWfNDbYVQoITa4icfEQcfSJQ84rMdO5KHRDm7f5kdYSSS6AiCP4fdGS1uv9H23d5n4JXUWDh1mkx7va7XSBINARm7vtzB3iFH4E4rgKSYM0LZPoMBvgcopj4wvCufUu9QO/+wZy5EVnSQah/+u9lQWU/52Ghndvp1Vdm8Xwi4Ngq5Fe0BySi94i+vA5BRCkLdOBkGGW0Ujio3nVbLKQ/LmmBWb1t77CHnPE3ZRW+AL1cNyxvfO9wmPXE0vfURJAV4vanMlVcyWv/ZfgpbZWl3E50hWdzdmYYwk20jOWT/fqzW"
                        },
                        "arn": "arn:aws:kms:us-east-1:752309041204:key/3a3d70ff-d99f-49b7-aaaf-cca7b9a4945d",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "3a3d70ff-d99f-49b7-aaaf-cca7b9a4945d",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::752309041204:user/cloud_user",
                                            "arn:aws:iam::752309041204:role/ci-role-20825e8"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::7e98819b-3cfb-4a0d-b691-0221787acc73",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "3a3d70ff-d99f-49b7-aaaf-cca7b9a4945d"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:0bN4UuEr+WCRQn0t:lkADIElfgaf6qSDpF4pRFhs/XHWeKscfnALLRCk8Rx0mG20ZU7Gqa3H6anIK6erRoKVcULcxDS83xzs2mMCEPMIrcU0u4N4G+iKvao0Mj3bNqXpTINAsHmMdIfQvytlv7w=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "3a3d70ff-d99f-49b7-aaaf-cca7b9a4945d"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::7e98819b-3cfb-4a0d-b691-0221787acc73",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}