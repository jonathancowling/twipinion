{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-03-18T12:22:56.38275Z",
                "magic": "3941cd8d8f96d38ddb61c5e4d852cb2b8f303c21d4cb1800bbf01ef47779cdfa",
                "version": "v3.26.1"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-a5bdf9b",
                        "ci role": "arn:aws:iam::634267044080:role/ci-role-437fc16",
                        "secret provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "e8d8ab84-3ddb-4545-96d7-126456129974",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-a5bdf9b",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-a5bdf9b"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:++9Gz5ZTD5xeY5j9:qCctdMeRtDrdtYIaiPgm9qH6DuPjT+vQZY7bC1/Sg8SNapxhHoCUO3lM86GxmCtaj90xls2jaQ=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-a5bdf9b",
                        "bucketName": "backend-bucket-a5bdf9b",
                        "domainName": "backend-bucket-a5bdf9b.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-a5bdf9b.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-a5bdf9b.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-a5bdf9b.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e8d8ab84-3ddb-4545-96d7-126456129974",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "c41b89ec-d7a5-4ace-b112-8f7e7dd93874",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::634267044080:user/cloud_user\"},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:HJfiCyAYlSVbENvm:9zUySezJO43BTG8u108AtpzpZ6O5yp0GbDYUds5MIzAjRQBbIhr5+El/nAZZ4fYgRFFhYfnxCnt8sUDJkBzHc1XWVT/YuCsku/p7Ie9kyt0XbpRD5IHOM2JSZ9ajFZSBOM8pLkw2ljlyHcbxGcdeai9x4/7Pc5ekawshy6yVSrMlPN2iP9VmZBB8yeG5Kvwpfu4x1HOhFMcHk6Z9q5wnrZAhfGPQmIWmdV/oCJJ1HAyJVqr4Ejr7WT8+SKGAdUhhLN75/6RGk1nD1vRZBWRG/mlorOSz32QFmH9I+aOeVAA61OF1QGbq2OvZQ+S8423t26RCz0IsLIPXpqaR8YkQhCWzu59TjE2+MdOq8QuuOI0Qhttpz3VfjBzfOQ1nCBEjuQ=="
                        },
                        "arn": "arn:aws:kms:us-east-1:634267044080:key/c41b89ec-d7a5-4ace-b112-8f7e7dd93874",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "c41b89ec-d7a5-4ace-b112-8f7e7dd93874",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": "arn:aws:iam::634267044080:user/cloud_user"
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e8d8ab84-3ddb-4545-96d7-126456129974",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::634267044080:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:69geRdsHNRZUZiYg:+W5LoJHyPetNIWBzNvrwfZGQm7uoBWC1d/OR0vxPQZYnZsAxYkQ6sccBkrBav7cvTBHTBmwwKPocqVXe1lxA2b3L89l95Os5FWeRtf9VTAWxDu2W6YgwWMB17ELX0Y1wOqxX/FDMKCQ9afCyf1desBWKiDMMJpx5vnFG1pGRMnhwnYzbkD8CFgupf7YLtJAOb1gZuwbM/Hy41AZjYB9b/4WZjSFY8t0g"
                        },
                        "arn": "arn:aws:iam::634267044080:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e8d8ab84-3ddb-4545-96d7-126456129974",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "c41b89ec-d7a5-4ace-b112-8f7e7dd93874"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:yFE5InH6SCGIHoF7:NSTevlTlCsK0OZDbAnhc9RjXsVeTj432i8VJRAhLX5+sWOCAztNV70JCjRNKRrRAg1CQe/u19MVAh4OGfImnHfXb+B7Z3W3JSBjnuOj0X2MikZzn0OXNrqCt1Wr1LPSxsw=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "c41b89ec-d7a5-4ace-b112-8f7e7dd93874"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e8d8ab84-3ddb-4545-96d7-126456129974",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-437fc16",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::634267044080:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess"
                        ],
                        "roleName": "ci-role-437fc16"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:42kzl1YMfLj4eSym:SfRJ+iHRpk+hjNUo1agZ/kL8Tk+f1+8XGHJ9wjC5zwrc+y0u1rwiKBszZXO1pjjFOC7sdmEVjh7fsUy+dXv0d662C81YEPiotcWaUb1hxLjqgotGiwAIZ0uHm1qhIeeSVHNoc/1o1ZYaqP33OqlCWpGNuoFq3s97v0rmikv/nbktAlc+P7k1c8sh2BKJ/geL3KDqURL/jcMuGEBzjqA24VYooc73b6CPEhWzI5F2WbjTqsgDMI0TCXbHgI7BWvu1sZufbP6KJUDopk9NLEOkeH6Ofsq/8gczg7cNxYz6phVJ6A5M1L0/sp4GjqA3lKEZ2NgBR6dapPL/sWr04RXgSvJmAWfcz//6F2MFFXSyJpthcn8YmFv+tgcnwdTfO9CEw0g+0XSnP2A9feaO8J7WWmjorFdTmJ6F9HwtmW7ccqzbrd8JUGqSrdLb2z5JriXhPaW+PEaG180BtHYdY9/MjFLBnx09PSorce1Ywse6UfiIxogGFfeUX5ILdehcZDf9+REUByWcR6fnsGvkprWrt25OTaXuAi6UNU/Yzt9EE4T+PYXzY32U3ZkQ6hdDMTIrXDVtL5vmVltKKbqHoUBJqqEyl87FVVqEsOOic2JDrZnJ6KoTSbc7vh0x9//IEc6ILx7iJbS3rKjWsaymjyHB5RWBiKtFc69pJfDYq3nVjPglhdExeENs+u1j4w21ggEl1jiy7Ccid9iTbKjRn3x489/5TNaI0n6RF/9a7wD1zeIt11LoGDgphTssORRwchjP2X6RyT3CPxvPOTnDCRBHP++l85w4nezmiNNC3++zgTGDdHDdFvj2er0YOkkrTPFcnQXYfkYfQPH+EdkfkKM2yBq4FxSz5kM9fg+AvdXH6Oa5dibkxXQo0jEoCrGa+LDQreAZCakPo70stJV8SbUOvDJBg9C0LYHQ0cAUAgWTSO84IzPM90lO36/nQ4CGVIi1ZKXhmVW5YSCGjVVYr3r4G7/2V81TKvbfyQbGI/kQXjAueGpG92f3ymFl4GbRtrw7o4Jrutm3PAN8U3ITG/Ur97etAKmDSbijyq/gbnwzkSSNs4YhYyQZUofAWT6Wfi6XkbyWk9h8oBcI6XncpM9KW5mLTlqkJFty7Nly/TOMF/Iq2FJy0wcf1P431BgvGeVHkBeMMWPIXbgPVWUAJl+aq8WlC13c1FqZL0P3yVTUJhZBnc6RLNqQoztkiYFFta1BhgY5u+Hl1lJum+MDm67gTHjhFtwScwx5t0PCpyKu1vJBMzxoll0j5uzzMJtwE6fHfwwOTaXz1Te45lbKzMY17yGvRZE6+ODs9FsBo7txnIslykcatk3kqWfOw7siEF596Ogq"
                        },
                        "arn": "arn:aws:iam::634267044080:role/ci-role-437fc16",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::634267044080:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAZHLKDBDYEPWD4N7F2",
                        "roleName": "ci-role-437fc16"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e8d8ab84-3ddb-4545-96d7-126456129974",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}