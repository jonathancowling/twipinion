{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-04T17:16:02.591885+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-969d6a1",
                        "ci role": "arn:aws:iam::014942008613:role/ci-role-d117b45",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "9fe197a3-7325-4acb-9b06-511ee56d0d9f",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::014942008613:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:lanqJlXZG+GQ8uuE:jcKF6ctfPHxDFQqsjT1gji2JsQYRAI8PYV9JfQXShY/41dqd/U8BK94pM0O95P6WddNq8JXRpzgIJzmODW3Xk2n5y54fbQybXpK5FziH5d05eZ3ys5xe8PWnGk1YXAJIPI6JsW8E+uKneTRAlriiD82m+8J9jH7CtWh1p97P7oXgamiNSr8gD0zf+jL+aEMtO50ohs2H+Ck/BUoOJkQynZR3pkNbGXPX"
                        },
                        "arn": "arn:aws:iam::014942008613:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9fe197a3-7325-4acb-9b06-511ee56d0d9f",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-d117b45",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::014942008613:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess"
                        ],
                        "roleName": "ci-role-d117b45"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:AgjHotJQbyiOBdP1:Nc/NR2rpBnamDsRg4xBPdg9tYJwM3ZQrDZ7VLHuVzbKmIeZHo9ioC1r+Pssck4FItKBZgdqnhqWfXv2X7HVZS7dkfVHFvxaD/Kjqo5IfCGT0TLKL72aY2f1BVb8CAa5udUU/B9zo160fc+ZEKFRKy09327vTVpj9zRwWVuV3tTwGVjBr+bfCMZ0Jy+Fdm+9x+GS676jt+OKIKlk1Kl/sfnlwIwa87Rd8zjgTYiNwmx1SJw4vTOZ7tU9geajDbJ6SxMWoPrY3BMJKeCNDN1Wtv2oj7G3lk69qsjKeotpNHRt+ohxVruu8uL8VqjT7UUTZunYVO0HPTB9G7i/XYP+tmWjV+O9jNKKQBYlEKvAtWHqAcQLankjI/Lf/fMbF9edYBmK1ZoPgfTBveJ8Qs9IcSmOyzj2mXRMuv7sS0bFqebfzzNFe05mBYXuXAX9PinIYoxMqeE69Li/yFouJk2Sez819Y8YaOctop0XoERSQswxmraLUuTLs7k+TPT/J4mQlxqEyRQ9PI1ZqHo33AHlWpi0VZ8P9DKmN7S2y5lwK/WDJ/b922F9jswJp64KWVN5wmxqB8v1jxYS/fZ4/AghxMp+sr0WdLzWkntVkCEY3QIh/4aUDuTAms+ToIIJf4TrGBsvIu48LebgeYEJzo/XRd2Bju7Ik48VPkaI0cawXIfP+ZOsvM5YkinmVMXi7uUOFhU4269DXZe6ltviRYS5kz6rwBfUnMTQlxEhVSHAmTOV0ZBbmPFemIlyvMaDRn65l8bEFwppB7T/L613HuJShHQxQOIFEvDSTN8xZo4eFIOaQBMzGJrOaBdMdVLEQtM2gX/q5HKjmO1MAbqkypQ+9WugjGuBCYNFqU7U56SR5wtnGOsAibE65mEiZKWsa2pr86TpXa4JI6VQTehcKzoFEhnUND5nKkNPAvgFng615A+3EmQzT6pPfMuXaopS6JuIIuLD+EisnQ4PcT2aSnW9xwU+U9ziam4IRhQOahLG25lYrkyfPuBsuWPTP/ysf4qCeAWYezts7usn5HST8oW7XTvYohmd+066mX/AEQBQIorehphv6P/v1oEryE/R7v5pABXT0jXIWUmo+Ru7tF8BEIjCoivGAsvn7h4c1VlFb6S7xgN+jqhhsqaxswAnMtlREGwFC4DmaC4E1vBqab54p+KNucmui1aqKRuXhC2IN9PX3fbnLyNwe7PeEKueE35eScEQnv5yffsesxxCITL6GXIvA0P0z/3Vt6eUa6EW2wIS4Bm87t93iAuJI4oMFdJWzYw6ZaRfUV/Mbw9FBPL6Ey6AiqdivMsLUFlUiEKYI4jTjtx6SmDbVmN70bGPyyumfGTYR2eAhVyW5Jn2LzHH6CMHIau/Ec3hSlMIdn1pF91olz7bav6FgfCwo91CalX3I1cyhs3vQMt8heGV1/thlHNbwTT2n6CaxZh5PlDRBRjH+t5DD5GGKsTbKUkSzP9w="
                        },
                        "arn": "arn:aws:iam::014942008613:role/ci-role-d117b45",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::014942008613:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAQG6U46USYMTWTWLAA",
                        "roleName": "ci-role-d117b45"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9fe197a3-7325-4acb-9b06-511ee56d0d9f",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-969d6a1",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-969d6a1"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:i9Yau4z1/CZ3/FkI:RB6NikXUQkiZyCKpI6hm8LDkqtM2yU4U9QdZBJ2fbKjsiL92/T9kJEwtx9qZryz0c7o9uzZQAg=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-969d6a1",
                        "bucketName": "backend-bucket-969d6a1",
                        "domainName": "backend-bucket-969d6a1.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-969d6a1.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-969d6a1.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-969d6a1.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9fe197a3-7325-4acb-9b06-511ee56d0d9f",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "380127bf-790f-474b-9f44-863cf4a85720",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::014942008613:user/cloud_user\",\"arn:aws:iam::014942008613:role/ci-role-d117b45\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:1kzZRPd9WeTAZKXl:rEkjXQT0jz6trTb/YOD9wxtNjOZsRCG3OxFpsjATONwFselylNaCvTyILZwLb119Nj0IsY+Klmeh27aZk4tg7fFEMtzR7Y7331dHoqVs11sH5BxYzY6b8rMMetmcl+ZURZJkPrXAByofVuZ9Bw6yqt61dGPHwQA+JNDaM+BREcAGXhDSiqbZ3mIclBGAnMQHB9dmTsiaVC9f/vFV8WEgiDziB3/6fxWWrb0+Ek7cOUilJKmJLKIpC4yq38e/zkwdHYJ51FVaBaFZ5btwaYR55ft9W4dF9Rcje+FkDoYV0GOZhZYDikWeu/gsOeWfFOXEPBkSC+UoVFiv5kIEy7EOhdO+OoLiJUPJxTQm6bi/rHLpheTgxcNHv8TjLeoYblfSNHBuDU2UzUUsVxanSsalm+aJHIumcYz+JwuF8sj7E8mcLQJBKwMAc4TVyw3Gmx2BNw1Q8/wC"
                        },
                        "arn": "arn:aws:kms:us-east-1:014942008613:key/380127bf-790f-474b-9f44-863cf4a85720",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "380127bf-790f-474b-9f44-863cf4a85720",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::014942008613:role/ci-role-d117b45",
                                            "arn:aws:iam::014942008613:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9fe197a3-7325-4acb-9b06-511ee56d0d9f",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "380127bf-790f-474b-9f44-863cf4a85720"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:Qsy0GuL1WoDhUzOd:bh2P+YeiWYrc4VPI07Km+ppzUxPvjBU6v/pV+dw//StwBpDy4KRo5DUtd60k0ab77hBtN5K6HXxRJgF3OnCTWdYGY2zi520IMb0i5M2vRFDFk8Z3D9SJ9GSZaCzeWdMsYQ=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "380127bf-790f-474b-9f44-863cf4a85720"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9fe197a3-7325-4acb-9b06-511ee56d0d9f",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}