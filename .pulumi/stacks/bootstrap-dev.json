{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-04T12:25:47.001208+01:00",
                "magic": "c7840e4e7de4e536b01a267aff8f88ec491999a401479fe260e1e6b7b3ce0ef0",
                "version": "v3.27.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-5e43819",
                        "ci role": "arn:aws:iam::690622335846:role/ci-role-c0a846a",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "150af5da-c2b6-4154-9af0-f77af7023d41",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-5e43819",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-5e43819"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:kF6N52pv0NTFzgsv:nfKqewJ+IQouyCBOFsGCWc61AiPNn1QHkGXRtvvQ484w06rm1BR6GumPXPlSD8J7qp4fCrFgHw=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-5e43819",
                        "bucketName": "backend-bucket-5e43819",
                        "domainName": "backend-bucket-5e43819.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-5e43819.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-5e43819.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-5e43819.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::150af5da-c2b6-4154-9af0-f77af7023d41",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:u3UhvlDH1CN/JdUO:6KYTmjvxDif3rZV20WxjQCPxK9IGAav1TCdIg0YZpBOGso7sgW0MqJFxPmPA67Vfg69JSw0hbgUPOO0r5hGFQd0dfA/Rpe4fl91BxHUIvhPcO9Rku8mhyZDb9AVmh6nhZ12fy2NpO/wBEFi0DhepNkRnZH97nuDiSPk/ShlB1mgDxdCdBx1ItPVe6TEGqLIOztVtqG+UkN0NkbIFDoNlT3SsKuDbfdjM"
                        },
                        "arn": "arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::150af5da-c2b6-4154-9af0-f77af7023d41",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-c0a846a",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess"
                        ],
                        "roleName": "ci-role-c0a846a"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:2fvwEXX7xI5Tzmnz:cjPoZIIA68F/5Y/FTfmuawDE+p8DvsHbuTu6nwiN5YudAoXfFYEECh4Aqqq7fae1QXdOHGxLjwAXgasltpfVoQY3ye8IgEu7JmmRddr7FutFW14/XN64ct3WTNy/F93FMOujVvmAhyqACkyq5d+CMqdwhkr1qc+yWyuTQD+M04oTIhXSGuVwjOSLMexC4keQfjb0FoAJlmGiUsZ+bsWWek6vqLswUQsk/C1z5rynJLEAZeJ3YIp0/cYWeF/919muor7qYrY9cqQk30k/EeGa7fJqmWjj87QhtIXmaDDS1aVMRCxGdZVrPmP4zIPmDKFzuufmxWy97f6tDt1d3fSWLpC4oNyEvBj1GraogmEh3F/p0F+Pq5kRtoOEnthAqjucnz73oW4hgssNC9vEg1Ghy2FMdlDW0bwsPcBitjQBr64wcbN+1/Wy+SaBbGpug7MYKzXvsoZkiC1HD16eca7QYB8bMO4JmymHuwA2sAWSf2gKVwRFWTEn0bWnoaIR/m62JrcdAKAccJPjgH4IRp19xSPIuKSiKkdqFV00mfnQ5HHnIj5OmfUJOUWWZUTlak5tTQ1VpZquTwF7q5bs1MAoVE2DVtBNf/C16r71B225ddNU7UhhjXhLlbbPyYc6Vj4okJc3Lm/R/NVKL/tkC08p9CJejtZUXW4zkxUFaSZ7tj3OoVodDRQ/mcHAaECPkDO0Lt7eNr26/dDogdEW7IITLyGTj1/q/zjP+vukQwnrciQ8wFkF/0A44ETcpn7y9zzIi2E+Eh/HMsWv53ov0JNAlcDheqXo7iOPObSg6fW64r9Vy04UVIac0je1QtpHRQolfa2EjYj0NZjZLkjJ2ppY3jjpBRQxbgtQSXmso2X7a2tMZAtxItrxZf2LIIV0RU/YZ5+/PEOPtFFfjEApvkD7ltHgH2OyUu3OmF159q28+RS5PqKFCZzrTYO6gefwvYsNbmVTM8ly5VAIWcHtRpeQmKc7ee1gM0c4lg/HrftTQR5T+RDEfsXUi6OqEZx5BBtdAe0JgjKsBI+Iv8xpA4lNHX0EiGjac29W2vFJY9FjYf+z9SpjfEZ0aNl2servzlpzUcWBkS5s2e+fqJTrlFIsmcmWxxo21EXvyKZu5+dEK+mz6+fejwchvrb/qnEiCZZFDRqwyHAJKqOXcDLNjuFvZ2EeAv8VpqWkrHb+I8p7pdvBgma0M4KqrDDvHJNGaWGfUrvESjGG/FXT5vx+jxzykA6S+brrmJuxlA37jakqwv3JTRPegjOT4VnvoJsjOhDgJmVUAKvdqvp5ZHRg5KXnJT3LEhW05cpMIfSlM4zD+pUw2/PHcIcO0TNlV6mgw2hU+2Kj"
                        },
                        "arn": "arn:aws:iam::690622335846:role/ci-role-c0a846a",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA2BTCMRNTHRM6PNCWG",
                        "roleName": "ci-role-c0a846a"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::150af5da-c2b6-4154-9af0-f77af7023d41",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "59051f01-376f-41da-a254-a450078a3fc9",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::690622335846:user/cloud_user\",\"arn:aws:iam::690622335846:role/ci-role-c0a846a\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:Xy2hENSVaEl8w38N:WXIifFPES6BMQqiwJhbvQSCVxIs5lzoF8HvLb+Kw2wG/SsfPxJ/ZmhiAY6pTQ8J3zCr66sj1HAwrEBlKeNJyJz/+hISNsVGLRVVfA0pwP71r4W17C2x8jJHI9On1VyK7bDLOOH6OCQAG/TLmH3hNqikk9mYWeVoYxlq/dzrs5LF6aoATS36VVyJ5abpY7X0elT4Z08wRX3/KNtp1QdIfHMAPE3wff6400zRbXyXbDa6eA4cKrrSS1fTV8KacA2ePEzeZB5mzR4m1IMpnn8LiBG1WYN8qEqSi/28yaQyS4S6gIKq1WnssYuex6+Ku0GFifcVJt2yCQatuHXw6rmg5f6W6P1iNDEcd03qccmlHs1FGbbwYr6g1bnvE5mfOHxuRerRrx0d2ratDQZ3y4Bpa66xHwGjaXIRSUPL+H/ABIyE0T82Mn/eUJoKQ2LPUMnIzMCGswcPn"
                        },
                        "arn": "arn:aws:kms:us-east-1:690622335846:key/59051f01-376f-41da-a254-a450078a3fc9",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "59051f01-376f-41da-a254-a450078a3fc9",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::690622335846:role/ci-role-c0a846a",
                                            "arn:aws:iam::690622335846:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::150af5da-c2b6-4154-9af0-f77af7023d41",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "59051f01-376f-41da-a254-a450078a3fc9"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:w+UFIHpIayRB/tEJ:0TqlmuyNppJcGmilNpMKZxP4jYQB6t8xv7h2lC4T0bHMX1LhHz638sa+l3AAEOTz91XR7wWWqQce6oDqxqlWxV+tfRb9TRMFAxnBdWD12jg0W0mowcLQPaSKFTn6IIIkkg=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "59051f01-376f-41da-a254-a450078a3fc9"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::150af5da-c2b6-4154-9af0-f77af7023d41",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}