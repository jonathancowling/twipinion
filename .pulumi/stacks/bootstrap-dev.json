{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-03-28T23:05:36.899743+01:00",
                "magic": "c7840e4e7de4e536b01a267aff8f88ec491999a401479fe260e1e6b7b3ce0ef0",
                "version": "v3.27.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-d371b28",
                        "ci role": "arn:aws:iam::152329264931:role/ci-role-ee2dfc4",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "80f75476-a588-42d0-a5bb-ce32a83020b6",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::152329264931:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:5nBWBcU8BZp2zMxS:wH/ArZgc11FdiJr4q0H9M6/CU0kvwUuxxRGEp6rUmq7R6LTaVOtL/3UYe6QsRzQZxPdcTIvMI/NPAuuFVDd1sE5pTZF5IenNgr26sc6jIVy3MQKFxuiGpVvUw6g22kiH6jCNf6u9eA5v2NAj8ZsmmUjNPJJmaSEH+kU3t+dmlqE1x4ishbjtl8JA2OFm/TwL+x0xI+95To5S54ngr6aWmoTnSXBAxNbH"
                        },
                        "arn": "arn:aws:iam::152329264931:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::80f75476-a588-42d0-a5bb-ce32a83020b6",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-d371b28",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-d371b28"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:bdnGtdEbNtvXsDJO:9zwPkedCMsV8YtdVGy3vdxxbRreZFtwsokVOWjVZkWq33deDlr+lpCXA5LRmIPcQoUTcZ3EvSQ=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-d371b28",
                        "bucketName": "backend-bucket-d371b28",
                        "domainName": "backend-bucket-d371b28.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-d371b28.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-d371b28.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-d371b28.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::80f75476-a588-42d0-a5bb-ce32a83020b6",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-ee2dfc4",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::152329264931:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess"
                        ],
                        "roleName": "ci-role-ee2dfc4"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:ulw9oxQNk60BYK/n:K2J+Km3VupyLkB6RxkiyWAaV4zOdqZ03L2NwZMU4A4pumQxXvLgmf3J4gEchPHWVeJCByJRMHYkIkuHATHEbfQQo29FBo4NUbGgFmIPFDqnDHa1933Cxq+96S99i8EKoy2MNz5gg/lXo1oW1eYD4fP05Olo/bYuGJGxC6X+q9WE940OnEcTPr5RD9DdzdmkUdbIG7kzrqHmmjOVI2hGUnCUAtqvUOi7RNyTX3LFCr92ZCybA5NkuFcR775pTdE5QyTo3uzD+sNW4s0dO8bwTNIRfo8YTBubVCzMkT9Zm5p/KdcKVI3YGbDkUmU8z6XZ1goVaS5KzQlwuz3+Ja3K4vT4BADpkgCb9KMlC80JzmbnTYAjorqSmOoPoDjy/LhLtLsCeAEJvpecA12Tmnw01uthFtFJhRAy1++ZCr9wXT/kZzS8o0SAlxkYUGsy2LwY/zoH9JS13ACOe4XcaFoHPoK2sClXkYLl7FcMr5n77Ab2qcWufWlZMRq9grkaWj99lTthDgRbflExcx0dmW03GbnGXhLvWZQ2O/bUv7Bh49H3xXieqt/OPorefK4Qg7CAP5DclpsWC4mWkMNKKR8LAgfeR6e2vlKgyZKZeD/4tItLXKunpVKyvBrrPiF4vo0BUDkn9sdicnBsHkje5A6iFDHzK5Pg5phGLPURegEv28DhfzPFi+By8kjx+rf10livB0ltxc3DvVkSPOwAMIIE5hF41Bpl/b4Yi8EuppvKqqcWfUsH7KqdZQ0wykV9USzmg0aR2cHluaoT0sm2mAaALYi2fTkSEdrI8C9R7HzTk9iSFKpb2Aoc4ddHoDYpBe4CTFswtRcQmolUYOrE9GEI2A6a0p9XZV9/T4WO7JeBMgiZbAIt+ktoM4ktzky+6dlx/OpSUSsr8q3If1LvHOzXl30jcD7VfXrw1Pxwpf4BfdmVzc7FkzOPvdS0FVcp4ZCwpQshshQwSPAx3UrE+IDLVraDLA5XiAMjDkoeWzY1DaHtmZm4gUso3X5sit9+ceK9AFVrL2iquuAi5x9pvzCCHJ2Kw7bJKfneOeLiD6i8VFIz0JVMinzw5t4ho65+4aBQA85kF4lC89rs9d8KjzjT4p4b9e9axPIqYE3HqXEmKsWZre+0I1AIS/FOHcwi92vYlo4ai1OUYaUF50Iv74aajC1DkQTUHt/QxrY8YjpPI+7AWmn7Ia5f9HcRumlszOsLaXZTOcTMBDIGsHofczyU+9JUxpRx7/R0PMFOvp3N2uXcfrn45yVY2zcxzatTz7NGVOAWg6D6B9hM1QxOr6iaa1e2kr/YcgXLQTKhS8LbhdjcQ3c0vw8+1iW3f0RTtvj29RhdU"
                        },
                        "arn": "arn:aws:iam::152329264931:role/ci-role-ee2dfc4",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::152329264931:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROASG54ID4RVQZKUI4RA",
                        "roleName": "ci-role-ee2dfc4"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::80f75476-a588-42d0-a5bb-ce32a83020b6",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "16cf6303-7095-4c5d-8494-8a08a3f77d91",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::152329264931:user/cloud_user\",\"arn:aws:iam::152329264931:role/ci-role-ee2dfc4\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:tFacARc+7ujQr5Fm:+jjfboOf1WsS/5bYP+CIOPjjS5HSSIkzX6n/rqPJwsfIET6t9TR7OoYa/OAamEywB+HZHOoUK7ZQ0cCR8TLgrJjLZO363RajUPL8/XKtl0AreKkPXMOxp+sqziWklKsmTS8bryarz/4XT4EwM1xnhj1CRG/OoFGLVnFrlNbbzBQedkYRs4IGeJMylF0UFBQmCsTIqsbKxkL1clY+lzWKwSM4bg4LivfF2i/LGZem1FS/vw7Z2nqxneNaK1aah9mkt4fa1ugXmbt27jNk/l6Uo8jB+bQFxS5l05hpSQl1daWZf8IrzsoS+bxBJ042t7L5aDaApjvRcPnivsOW2HJAnVhQrXDAU2OIw7wvADukK1WaGY25MAocC2om5+EeG/t8HqYR3+bSZ6uq0ZBiEY5E2AibIvnev9y5Hf3NlsR9OFpsq8xFEWGkbtR/hNJY0Au73Z8fqxZH"
                        },
                        "arn": "arn:aws:kms:us-east-1:152329264931:key/16cf6303-7095-4c5d-8494-8a08a3f77d91",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "16cf6303-7095-4c5d-8494-8a08a3f77d91",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::152329264931:user/cloud_user",
                                            "arn:aws:iam::152329264931:role/ci-role-ee2dfc4"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::80f75476-a588-42d0-a5bb-ce32a83020b6",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "16cf6303-7095-4c5d-8494-8a08a3f77d91"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:7jlS/k1nHJOaJ8a4:NxKq4HYwMEfriSzsEt6D1X/L3PwNVGmONHrpMp9+g1I4kt0z/7ekaGhrogNQTD2K0JcleG8WMBx3xGMdM4hWvv97hT7dDh41lxnlyEW6nDUpdDXiVKhyeqT9FVYdR3z84w=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "16cf6303-7095-4c5d-8494-8a08a3f77d91"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::80f75476-a588-42d0-a5bb-ce32a83020b6",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}