{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-06T11:25:58.327588+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-14ce4a8",
                        "ci role": "arn:aws:iam::572142303619:role/ci-role-824b47c",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "6a35bc9a-de6d-44c2-9cb4-24e5b1ee0c82",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::572142303619:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:6W+oBgY9HaHT75XJ:16mBKQcyCY3I+CL0rwt/7JS5FHomFqgHI7D7BjiEboC+DiXf9DXDjyQ3K8+HxM31H7k1NwYF5x3r3nKaioCu59Fitz6pXMoGxDG/QgQF+voq7VbkBvR9k0rZyVccy6MDovg+xOux1WIbSsjJ7GW4V08fwirrVigoIrWgg99v0JbTAT7EQ/g56MgX3SWVTiQT9klPRKCeu2ZuX15GFPmDomlNPBaSP5Yk"
                        },
                        "arn": "arn:aws:iam::572142303619:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::6a35bc9a-de6d-44c2-9cb4-24e5b1ee0c82",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-824b47c",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::572142303619:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-824b47c"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:PR5mdMtTcCAk1412:zw8MLGMJD36RzFgiOS8vST+TGYZ1qJjxpFyUkPrnDapzxVQL2f1iE52WuGSgSkJ+67uNhiofJbubfY57zlFfm81ZkeXagXgefyxEvgrt7jcm7r5donGK7QRgoOSAkKLSOaNbro5lPeT+OYYx44NO/FEVAn8dRMAsX6FTyEpOfgGKsf3rvTmWD64Xih74VxqlFVEPMF5mIM+p8jKHXuFrT0uLQAbYp+3yinBhUPuOIPJRpMPK9sZw8pBL3/2m177l50fdDy/esz/vGH1UXsLBA+Z4tdqYXKWrC/PN5v71mL+BIGjRylPUk+Bakff7wThOVNJobaO+dNPDkwRoQxZ/EI83IK97vWd3lDZfTSWu2gTRm0+uitay/SQAPk2jhvRQbJQS+vgn0vkSEOOntabRHa5VQdyhMGyADhLFUptUf4gEjdZMYwuXbtWX063VbebGcB10m29Tibd2BHtZNKLEtiEJEnyTi727+/1I6ImRf7VA0ZhTMagm2gA5F9vHOtj3F67DRf++BbadG5OCf/lUcxfou8Ah3mZooFJ+7/0Wsrt0LYnz25tnltYnlNXC6rsdQMobi5i11qXFv+4JC6mv8+YV4fCwv7cFqtZjKm1Sry7x8hKjtI6pzSvmhBk6rvRiC89L1s+oBRWnD7zezGOBp9lPajz+G+95WFPRxZ/4tTBcjAqVVIAzlOQ2cgEZ0Iub4fHX4cgNRh5oUTyQmQai7NnB7fEtLuGxnhwzz2tdXNQgb5FesoYezfOgyeqes+6l0M8F/HnWdzq3VNZlCRJr235NuWnt3zlwv9G18ZLwYbdnUxYmPF6ZQ1uJAoLa9DY+xSZyW2pFMvq+pPkZiW94Q4lhVWol8ylz7FB8S64IqxXZ3bMoGR7fmIQKAyYhZ9z7+TxqV29AIoegmRuvcb7dioOal7/vPc8uSS2r5ape1KgPe2KhnCPqwrPywGqeJbYurwZ2esDhxI4gJ4WnLJy+uKiO1G4GaFVv0UX28+o25CcFZLqVZGI01wEqKmpE/sPYZYonJ2XalkO6f2k5d0Ozl48Klt9TlZ+OGQdrHuJmda5ezXeq2YKCaQwp1v27qFKLtWs8xun218SX6NH8ZU4GcMLuJBYSmEhOUHkEuoT4Ldk3yFBi2Kcji4ms3doNbnkghi0Yd8f0bbNyB2RozIQMuN06a2KSFHiwOoJow2zmZh/fs0le9YC2vWzLmGnxTGmvr2NMqMYVDQ8E0GCXOowVUaZEKUMEsHZqb9FnCkcJB+RwDi7+U8ovh8jSSYBAX+zpj44EqppXVXhH67rOq3BD6tAyhMaBuq4y93kAGALXEdtzM4oZfIRBxJFaxlU0L/i3bW106RHRRXEq+CU+VqJv89s/zkphTiwDGkhaBQzzpiG+LfiVnNdjG5HbWyk23LlYAoj8h9IuunLIWqhHejffIz384KFbKKrBEQNz8O0CfOWS3PDcX38AVFxIDmx03tUYcW9cxEcz0f1pefwCzo1Zt7tIqAg8BX3akvVBDVtjLJendLD+Z9MfSTLU7eNI"
                        },
                        "arn": "arn:aws:iam::572142303619:role/ci-role-824b47c",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::572142303619:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAYKNSWXGBX3VEYQ4YE",
                        "roleName": "ci-role-824b47c"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::6a35bc9a-de6d-44c2-9cb4-24e5b1ee0c82",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-14ce4a8",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-14ce4a8"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:psKqykFM+XVWw+RY:On/Ehlf6eX2enuP/biIHVvTd9M/yeD6ofwAMcgXjSiy3AbhHPY2OtsjWaVLHy1qh2goKf7kzdA=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-14ce4a8",
                        "bucketName": "backend-bucket-14ce4a8",
                        "domainName": "backend-bucket-14ce4a8.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-14ce4a8.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-14ce4a8.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-14ce4a8.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::6a35bc9a-de6d-44c2-9cb4-24e5b1ee0c82",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "81c5f927-0f6a-401f-a495-179d14a002f3",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::572142303619:user/cloud_user\",\"arn:aws:iam::572142303619:role/ci-role-824b47c\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:dwbJhUWlwrkYzPDL:y/ieS8s8ULejLkqCrezx2MQYyxKNu1as4JSiIl6VDREKhyIJFSJoE6fFj4ZFggt1oAeYDuRCoS65HFbB75Iqe4PZtwmPDLXanEVIA+UCKZD7dzUnnVr6Z4f4d/45sjDaGIx92MfQHNjyO7trhRH3wqk6l5LUDXo5LrY5bLUYTS0MuitusaPR4Q/4UeW3eUL4/cZocGCsTO8E//RgtOg8U9r6A5BtD/gvN7D5rxXiaHjiDXZI2Ci01EmEqbJKfTiA8F1bnYTU9zpuBfDWioPYfoNMJmQDspw0PPBvu6D4KUupIVLytglimHVm9Oy8wQdSgOZfGrww5arm33VfFqq9eCLDx4PnmSR59C22L51+sAoS1N+DU/p3OMImQfcMoMQBqnuXSpzYZNkwDEz3Q+Dohzk40LP/XBBX62Iwp5fgWwiyaSEM1WBt/PEn5uiiklmJ7D2COe31"
                        },
                        "arn": "arn:aws:kms:us-east-1:572142303619:key/81c5f927-0f6a-401f-a495-179d14a002f3",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "81c5f927-0f6a-401f-a495-179d14a002f3",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::572142303619:role/ci-role-824b47c",
                                            "arn:aws:iam::572142303619:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::6a35bc9a-de6d-44c2-9cb4-24e5b1ee0c82",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "81c5f927-0f6a-401f-a495-179d14a002f3"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:EX0j7AswKwnv2EyO:5gYDB08aoTWK4DsykyI61666xYTdyKVM+ONISNvEH87wq5uWgj0m6BSVWXeuu0aBAtGVLbLmaCJ5ktwvm/h7r6SuhLstKq2dSFGllH3A58tDzfX1O04iF3JGw78r3FbfJA=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "81c5f927-0f6a-401f-a495-179d14a002f3"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::6a35bc9a-de6d-44c2-9cb4-24e5b1ee0c82",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}