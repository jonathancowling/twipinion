{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-07T14:55:01.938954+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "ffd243ce-efa5-4f78-9b27-317a0b58eebf",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-bd05634",
                        "ci role": "arn:aws:iam::270858408679:role/ci-role-a2650e8",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::270858408679:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:J+Lf/yEiBTHo/mzz:E1gB0JlKL56euj0eA/Oflf6/0Enk4TkMst83W8xTUF9IWGygSQQUSjDpVR1CPgn1WyCxXjbTm5LEeMy01WW6yedU0/4t76/OU1QtQrDVYtcnVD9iBou2BfuxwpKVoPOfpWe4WRlhTVIGToo+B6/bIfXgpYweJAdXIA2zQ3P5YspdgU3ZrZVUjTZQzxh2fne/vio6BXlba+12zYgFxIzylDfc7WrhJToC"
                        },
                        "arn": "arn:aws:iam::270858408679:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::ffd243ce-efa5-4f78-9b27-317a0b58eebf",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-bd05634",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-bd05634"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:CsoJQ7nBXy8UeQ0b:WIdRVQNwCulL5D2RUlS97podd+SvIluM53tTltXmvsA8DQN5OSqqc/9/pUkz+XuyWrlHzdt/PQ=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-bd05634",
                        "bucketName": "backend-bucket-bd05634",
                        "domainName": "backend-bucket-bd05634.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-bd05634.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-bd05634.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-bd05634.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::ffd243ce-efa5-4f78-9b27-317a0b58eebf",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-a2650e8",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::270858408679:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-a2650e8"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:k9ntsitM3QNQmPQ/:R1QRnYwK6ISkpXwDktNlILKFIh5iCef3gu8cMy00B8DDBqIfsDZhIoaQ3wyII8TiqU4fLvqsx7TVPbUc4qfeuiSV61Vj4GkrnzqkXZffBlEXzB2x1NPbyGYL9I8zGD3rpXck46FxHzzZIZj8enoAvdW4odDagKMyi92eCQCV6JM8HRf18I0dcR5eqQ9oYVgAVOiXqJsfbg9B1vCIRrGFZzBVJ/TjXVItDY2NYjDBpITULCqAQxEIY/85k8ETYQjS1y4nmXjlsYfBgfJ7G+9aqFmlVfgr3DLTESDaJbPxGfHjcAMoY/DJbStPm/Q1zemHbE9w7DaCJS0WL0NssJPifhzLDXMAGtS5yaLGxQkyJGl31nmORvBhOVTg8wPHjRebtxZcES+JE0NoGnrGX3lSBmCZXMCBfY7YxLeKolqKtl/riOumV4bd5O4xJ1ZC0hoBXp0acoBKNpi/MR0PtUxq46daWvHJYBCgr2mSL0uAJkWzXgGT+LaWgSDc8vbZmlM4UGUEKZOG8hEO2bQKo19RE5zVHsnDxocHhZ2jpSyGyFYqYRV72jds0AXbUAkJi8zrlojn9ahIfzgo0SSNdXVgpleT0v94/fJjXgvINfK0vCzJYE0rESLdRDy8/0oa5l213vUzxDozHbWBEHlPeh7b9vBv+XdRWZgSOwc6RzqLDy/eFF5aOM27Wnx25v+a3HsRVUQsLrOUaA6tX8RybRCO3mcPh0jQtVlu/PRDXEQnrGjwWlzcOet1huzLkHELggWsKsbls5YrED69WVUl6aJ4YcnNHPYRTDC+rpuup+Nmw6fWlbr88rWEy194qAyiITgUXWtmyDepw7S4nRlJiD4388LOdosVTyNd2QrTqYCfuZ5Tn26t1Lp5ItHg1Zm9CscBrhiia77tfHJEASMRZ+/CDSx8cEn/JJpOGoDqR3I4jE4DJK6DajA/oQUER5PRtPMPifLZWqRxWLaSUL/0mYevJ5t5U3JpozJzDNqoiioc8nUm8m9Hs6K7MPoYFckR4mryFasu/fk4bsgxH4oQ3BFyCDInelpn5jR54EKzSHhcyNvjLIi4M6XD7heKWSTyf+mBb+iGMG/6DXqgyFoYH0vQme27qV04USvwa9NmeiDi5OQyWSCEIlz1/hzVn3BDm897OvtrH5CFdx8FMeGEZopKZZuOSHxu31Ckjvzz9B0ngapFBcLEM4if4aKPlUzdknGLkqcXDrhcKjWLJIL0nzN3maPdrJur1kDU4NecjUX4qNCPbTtp6Hc0D2TZWY16XblujVuvVPS/oMO8KqcDg1kvS0gXjlBupEhk3U5z4tCj6JClD4Bkl1l5N8IrYTe3DpjM383Kgns9BcTY77UWiXRol9QUKPQy49Yi1+jgz1zsL6OFzqCoNfeAVV0RtF+/ZpPiKBWZVdABbEOh+bTe719IY3oc8J5eufIpl5iVNVdh7led9XDwBKn93E1/pmgkwp3JKPYHG9YMGCdAcDF4D3tgELLIO43D9dV7UVfgUw8IMGQjbgaxqczpAw4S7u8u"
                        },
                        "arn": "arn:aws:iam::270858408679:role/ci-role-a2650e8",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::270858408679:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAT6EDLKLTXA5D67VDK",
                        "roleName": "ci-role-a2650e8"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::ffd243ce-efa5-4f78-9b27-317a0b58eebf",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "cd82b802-e323-4af4-b335-d2c6129a81d6",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::270858408679:user/cloud_user\",\"arn:aws:iam::270858408679:role/ci-role-a2650e8\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:h/YjYunopOUkleM8:BgXtEyqK01uoYmM5TD3x0zUmUv4jRweRkxcmh7/eYCpnkn0VmkmvHf/pIDEFRWjYxdei3qrCa3L+pOhb67iP/nSXCYonKlRiIcM07yh807cscuSvBq93QD0YbpCfGzLhi/7EDAQDgob3g9zoDg7kxHySRJ3nwlyjIyGI9CXhR89cIzSYCcfgPOjieIXBmzVIkRbgbdLUulsS8LH8PG0wFgMLD1at9Pm12zvhVSTo9y675kKVWtJ7+uyPpmbz8MUuY8N8TUxZ0sQZcMPUgnAEY7hhz8QIzvrJb1HFvQtxn87Fkc5GiOqq3U0C6J2OD+db/SAYSLkuaeKnRBVGnpam28GsBz9NTg8F+ogwB5/IUMIJOjm6vHZI1C17gqEEPGX5FzfE11NB6AlNmqK+HcaxsU/jEvLhQ2SC7m0i2ecVl6uJv9MNycg2ZPdSY1u1jplfe6R6BalE"
                        },
                        "arn": "arn:aws:kms:us-east-1:270858408679:key/cd82b802-e323-4af4-b335-d2c6129a81d6",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "cd82b802-e323-4af4-b335-d2c6129a81d6",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::270858408679:role/ci-role-a2650e8",
                                            "arn:aws:iam::270858408679:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::ffd243ce-efa5-4f78-9b27-317a0b58eebf",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "cd82b802-e323-4af4-b335-d2c6129a81d6"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:03WtOflhahpSQggZ:74Gx+2uE619PXTxYvXeqPmQJeXkB0fjR0czIdxd2NZRZPy7r0idwXsX6wLtGRAPVL8BfBpH9Q4diT9IY7kucnu5t6TcIOU3VJKeB61a/BM5vQnPXX+Z0ye/rImGTMUKShg=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "cd82b802-e323-4af4-b335-d2c6129a81d6"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::ffd243ce-efa5-4f78-9b27-317a0b58eebf",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}