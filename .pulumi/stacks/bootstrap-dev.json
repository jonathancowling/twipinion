{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-12T14:15:37.785139+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-4292686",
                        "ci role": "arn:aws:iam::650601597349:role/ci-role-f502ea6",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "e237e892-45b2-4f76-96f6-0185a8ac4c7a",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::650601597349:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:mLtKFb1r/5pgX+GU:9JkwULEB3OYZSHd/TGjelQ57llNZ6VFrNu9Y5NiAOOf7eXBG/xHxpW0paNV6sRvxFkNN8n0kejhqxPHB7mbIDYYBP9dQrhiL0NoQV/xnCtR7YHshIYuEGsbgqkcicw11bptQ91SuqbigV1k6ywF5EkT35maF8E/2ya8bv87l4TGWqOMw+Vw64NjNC7MqIf/XjOPoT2aeplwJHOBZpNKKaf2zxi0s0xv7"
                        },
                        "arn": "arn:aws:iam::650601597349:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e237e892-45b2-4f76-96f6-0185a8ac4c7a",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-f502ea6",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::650601597349:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-f502ea6"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:0dhFq9uMcQH5svyv:y/SUv6hNYSOjF6HUdjN6lxpQqrz0mi3AbT7Ph79SYJg7hkALjxpio8+trANVfI6pNEGsI4EnkWQfXYHUO3vALKvHNLVL9caE82EjVVK6HwIT7x3vey+eYCJIG9ZQbROwiYd99BgPDYt5ufQgGLcwSFLda3gbcaCImrWeBtZQEk8QGY+gBg1paX6S4PknOS8z7cccEUVqUYYe4kiiYOlKLsYO7QFxn9fQHt+IQWyt0vy5QmGPFIWWqSV84lVzFoBxjfbYVygRItr5I8lkWKHctSZpUqgtDbVdEsj8Tps3SCUGJxhct39LMcr/9Xc8nCaFzidvNoVB2joMICReEb0pymfYcJxidD0GpXLlA2JxiEM5W1wbpnUCcUUg1FZtGvvwl5N35J9YaN1Rkgc/HJC0d8qBJVih72vFssbtDssnEQdW3detkyilGpnvthsH21bgUtBbBCYJlzCuWh+sjrOV/8bHdOCgTOXSWYLZnWWvb7Dv7YD/Wbbd+29ewrIbwP9TCL+r3Ba15XoSXPM+StGOgv88BIZBoUFQzQxDdni0i/0rLbLS0T3QYmDp71LTE9gQXfSiefD64TH7OTffaAaEF3Si/SGTUS6Tc8+CNGUwOhIVq1f8Hc/vwsApJIKCls3oqBZo+sl5aLO9xCxzVmKgAO6+O3j2qZnXfYQqUDbGXY4mWABQJZZ8IcR+rJWhH8yl9NIElJohI5jjfZBUATpyZI2sZLUaIy5wx43P66M9XNplrGNUgBc50PTZVBwtW/IIVcqr1HaiOg45oF/bu0MQH2jPICxw6QCQJEgqtxmjyV1oYN0JxpxHDhtmA78Bx6dCD5L5PuIhktCwOHpftG3qhbFL+6F4yB0VDEEcdq/Fzpb+W64LQkCooeJiGAqkCsQl/WpcfcPefrICrG8URCyCwd9hNAHEQx3xNLBCh8Ep/ayxrfzkT45UagnIte3BeOf3qnVHPY0LWyc38CYakHhZJgws5BK0/++AXvi240yNMe0RVBjeiGhDIRgwfGvjYw0zpJ6oCaQLAR6WDUNCRNJDPo75rs6gFW+co2qH4zJSmImJl7GYyj34b3miBJHRJmLiU/I10bxHUgK4MiOoUT9n6hdZilnpodqMMD+yVIHZXVmhkwEvymzBWlEFH8SUPaAegzh1/wFD7RjWPJet9U6VmawR6sMsz2j47jlhgOWKWoQPslj2vyjipNDWwu8Ji28psxBef822erdwhtCzw9qysY+p6GbA9gWRj7xr305UfRkG/BSR/jQ097qXJMnNkx9USfuacZsyFLdl8b7dGrwVrf1Awh65eKAb0RWKOtyK0EQzJdLhMWErH2cA8tZQwjax3xnDyyXLY2G4WpKp9lh4kSQMjNgoEQBYDNrQ+ct/ay8HJrNc6HSbbMH/zlHqGoIkJITBU8sE6Tx7QAgTFhuMD4z9F/c7ZUqSLr7201rh8gcJBwE2NWw9XYVEwmmc57JGgx/0b+udr8ICW8QJPjNA2wfG3zn+OGFBcU7ZiudktZJHWMpwW0Yzdma0TBvu"
                        },
                        "arn": "arn:aws:iam::650601597349:role/ci-role-f502ea6",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::650601597349:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAZO6XARGSR55RBLBJO",
                        "roleName": "ci-role-f502ea6"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e237e892-45b2-4f76-96f6-0185a8ac4c7a",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-4292686",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-4292686"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:z0lTQNlHQLcCXl8Q:uYeJECXn086LU0GuuMt8QwyOS0HsrDmmEsGJod2JYnF5SS5ZVvxKpOKDr40NGOkc+NnrNedf6g=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-4292686",
                        "bucketName": "backend-bucket-4292686",
                        "domainName": "backend-bucket-4292686.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-4292686.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-4292686.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-4292686.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e237e892-45b2-4f76-96f6-0185a8ac4c7a",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "efd1c19f-f1eb-4bf4-a64c-36654a473d68",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::650601597349:user/cloud_user\",\"arn:aws:iam::650601597349:role/ci-role-f502ea6\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:rC8ZCPexOwkyoJ54:+LMfjgW7D4he+W3B/ehyYhRyepPFfKn/xhmKfRfdE1m35k41NIN7QFly2H83tXyugE7h12Y34gVSlq1RyN+FxhIKTMrV+/m4AbfYXMIildchidRTyx3DN+7Mb27mvXa6uMEXmKDJ4uXQP/mNfkrXzelZAmzec4fNxfEzlUEButQpySrTOArP5kFEHcRxo5iJ0lycQ0LSheMWek1nGDHlTkIyLGVhLtDQGaiovwLx7t5XUeep0I5NjJ6cU5joi5r3BxET00h4mM1d1KZENtYIFGibGFcYZqao0z83DHywu+ni74MFP6Qtf17l8A6YwA7bvlQGca64LfQauNc1AX5MoJPx95WXL1brllX8mwEYOGU7FNNXw5OmzGqS1mEIGFaSujseaPI5K5QoS0FQW3V0sEjurUuTQIDA6X5rshDgVUngXSGdvy2lcKFygbXqmczm5U9tZt3N"
                        },
                        "arn": "arn:aws:kms:us-east-1:650601597349:key/efd1c19f-f1eb-4bf4-a64c-36654a473d68",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "efd1c19f-f1eb-4bf4-a64c-36654a473d68",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::650601597349:user/cloud_user",
                                            "arn:aws:iam::650601597349:role/ci-role-f502ea6"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e237e892-45b2-4f76-96f6-0185a8ac4c7a",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "efd1c19f-f1eb-4bf4-a64c-36654a473d68"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:O9Tgxv773t1bZNpE:k80Mit9ypTT96MzXp/KNK4EzcFL6OpDn54/sHOLYfBR3EmwQOOKz3mUnwKlvPAs355DPCcjDN1RfXZ/a9snjKFO6SlCCYB9pVyY4mAkF1c+nmFQNZaFMXkLb26mi9mrUVw=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "efd1c19f-f1eb-4bf4-a64c-36654a473d68"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::e237e892-45b2-4f76-96f6-0185a8ac4c7a",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}