{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-07T19:16:12.909095+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-06584a2",
                        "ci role": "arn:aws:iam::091940524711:role/ci-role-1acba01",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "9e072a82-5f2e-4154-9b2b-efe7d7dc31fc",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::091940524711:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:HW+JDK+4kILci0RY:2OnRAtoQ1UBn6l8Ig/QFA03TI6rf9L3nppvh8dLOtGWjh/oeVlSlXxe/zeu2OqpJEdTbNu5O44uX2/Ry7ED+jS2CMZI8FOwp1ql7jqIqBfUfMn2Ya94KmHqTLmlO7sUYVo3hGLnC/xsqLxElWxv67l4Wi2HWeNlOoQ6l46iO9g9siq47KUX6O38O+8OYHgkCitDKIQZoDtqZLLdkD1Nd9Th3Xb1FESQp"
                        },
                        "arn": "arn:aws:iam::091940524711:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9e072a82-5f2e-4154-9b2b-efe7d7dc31fc",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-1acba01",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::091940524711:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-1acba01"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:AgtF6jtgcsNDCEFj:ikR6DRF6Se+LJLRuGJgX16fWUWWBPVHupDmJT1+PiBgfOhaHUzlRlRSJLnMCLZ3RVot6LuRXWldUCFvIZ614+kqbFPhyAllULl/jIm7sO1JJY0yx4oeuJO8BkLmdpMr+rGj0DdSLuG/pgZcT5ulDkguaUPT65q2DKJO8EExrehFmAmFztTBMg4NRNdYfA2i+Hj0oa5q+3MPYIz45B8uuAiG4arO1MAwTZTBb0W1fA+MdLqj4IUW0NvvTyfOefNkzjZVzx9uE9ozgiERE1eIhNq46YhWMxXOhHRUMUCChLjhcqtYA9qZvTi+7FYgli/7EB77+/hShUWZ7Vh46bK0dsP0QmLhUkEQ9pPYEbafPjpSz3lfLv+vBwSZnYXHSyTsDRF16qfuWuJCgHzyyQH1RiDQBg0V9D3nGoeu31KRAIqKtrQHIAODcZBZLWyVc7LJCacywYB6YjzSI3SR8HycFacnzgDFEo/a737X+b4QCufcytbhQLrnsV0L7VlgfdK0mfp+GqmA4ohu3uMKxbZQ92G8kK/K+KejgEeAw2aUUM2T1RJ0qeJhLToUK+f7Uf59V+8ULqo3PZV9SfZ8JtLOyZn4gIS1n+EPgD9IBGEI43y+djr2oKwX3TDwAmSyo66Yxr/GI1Umfke9l+nYy8dVul+dSGOymotXuEGAiY4BRm+pC3v+LEOjpmI1xJpmQxuns+qLJsDq4zeDKkh1gEMzGmrrSbH35hHiccFpyEubXGbAnSkyJKb4yxCEqkM1FyjUwVfcNTVbrWg6yBPWS+pfYExAXmW8QBN9aRNTrvlzgM9Gym+CX5RDwgW0x5T4nmqYJ3RdmtEJL25Ox+0iMaNpc+x/QM8rX8eZTGok1TZVS3ImKbp45YM4oQhXYWiqceQIY5yoa9Ba7V4dcoIN/mH1omlhchcKg//etNULbMPzlAS8B6Lalr4ZR1tHBCLIi7TbZSMs1jMohpwFS+WFi7/XuIALcxob0/OxaZlx/zTtTBzoYpFzph450JQmA/IhHGSVLPlXQ60y9wQXvOcywKGascQAjR/qkmLu+MVUU/GrYcTTyr1yPrDC8VbJ0GyXsNas34dpGusKHXyPVvREZ7hR/nmH4DweMJigdZ3xHXRgvHd7yuWejx9odIyIr/toNqxlVcoISshm4+NdtA29NbcT8N9Hhu3lBsZOPRpxuB0jTv2FmdRkPFEfO3mclcXU3eOSS7XCpiIeny+WrOV7Y8NY+jz8kQ5KHtN4Hbz6B1LTug+YKdkPOYa+qQ5FomC6sUtI74Lytk9gZPRahzcdRfp6QcUdE9lDjDMi3SaZdaidvbOYA+2KglGm2348VDKtWGzeKFfIG+pPuHHshFOFXGxrx0uhW4pkAUueUlftGrV03+8Eew1Us/wKgPi/mk/k+bwK79kvu1G8cy6n/54pQdgoqN5EbXRXdhBoaXgLy0/HIkBNoPzWDS8rFhrjiQ78QaCs7oIoLTW/SlqeKafl0+WCH8EqOv0uphdSNQoOvrj4N77oY9DGrU/B+XdTmIDGP"
                        },
                        "arn": "arn:aws:iam::091940524711:role/ci-role-1acba01",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::091940524711:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROARK2AVCKT2Q6XMO2GM",
                        "roleName": "ci-role-1acba01"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9e072a82-5f2e-4154-9b2b-efe7d7dc31fc",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-06584a2",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-06584a2"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:nsEFfFpjsSbL/F59:NzKokhJ8i+QF5N/o0lghg/9LNAP7HtZw+bQirt2Si/P+qCP/K+6fRXOE/UL3/skqItgGyb+30Q=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-06584a2",
                        "bucketName": "backend-bucket-06584a2",
                        "domainName": "backend-bucket-06584a2.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-06584a2.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-06584a2.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-06584a2.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9e072a82-5f2e-4154-9b2b-efe7d7dc31fc",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "f2125fa3-239c-4413-97ce-94c9e8a9bcea",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::091940524711:user/cloud_user\",\"arn:aws:iam::091940524711:role/ci-role-1acba01\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:QRJSw7RHHK4l5xS8:Woqe5rBF9xnpA2zTFroQ0MQprZllDZDCaMBjWGP55vgFNTDkshLvNskG5jY8NJgEdC9nLhAUAFeXR6X2VJ7b3/Qz31PIVA89c+ZylSwLvqZN6rzVGqKIk0eiTdDj/yX9flJRaOEeeYtfcaAeMhpGjgGX02A9mX8xyBD+yM7/fDFKN7/64soJs2A0LjNhwue5BPrMxORP2cP//TFjl/RBW9mJYczZ6AFI6B2zzW8v0S6pyzqSle+gBmuM16+5z2mttMsvOej6lRG+m03XCA2cApk/a9mcZ0yjJdSjXoFSG84vQ8MkJpgY23BssLMsucktyZrbB1GX0do+507yojkNeqsbhwl1mWNKR9YgOcDKLzrglJTziZy4E0Sux7o6NUW4/9liptttasDil0/kwvBCn9HQT+1olzccVAxTRStYGcNeRkiOf1UvormaWcC/1WT1YCoiumvg"
                        },
                        "arn": "arn:aws:kms:us-east-1:091940524711:key/f2125fa3-239c-4413-97ce-94c9e8a9bcea",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "f2125fa3-239c-4413-97ce-94c9e8a9bcea",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::091940524711:user/cloud_user",
                                            "arn:aws:iam::091940524711:role/ci-role-1acba01"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9e072a82-5f2e-4154-9b2b-efe7d7dc31fc",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "f2125fa3-239c-4413-97ce-94c9e8a9bcea"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:gEUekR8XnU9CyP3z:zVUHBzOpFGadEGE+hjfrkJ11A1i7wzMb52xUCPzA/0SRugXLlsm8zCuuvIxbygvS+Duxxfc/xeaoJ4vb3lOLnkdTaF63qYYL+SPyO5kS8U9B11rnUQfy0UC8r69fU5BFyQ=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "f2125fa3-239c-4413-97ce-94c9e8a9bcea"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::9e072a82-5f2e-4154-9b2b-efe7d7dc31fc",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}