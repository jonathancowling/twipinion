{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-04T15:59:45.839759+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "b5bc8066-c19e-4802-881e-af087748c8df",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-65093fc",
                        "ci role": "arn:aws:iam::690622335846:role/ci-role-da0e98b",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:YrCw4E35iMVTd3TV:lrIYc8c4tnzr0Qc3xBgAl6H4II2D5/1vUh4wrVXW75yRXJarhWGPoEAlJTObjhIwspa7/ugftX73JskXm94LlnpmLdyvAAFO+Nkjug5QL61R69FU3HcIQv1sLZvwO77OX2WDeaUdPe/M6LPcdqsTCjRDPq0kRoi9x9MBslk3+FYOOiH4IhFGLYxcRhVK9VcG2fc6FP6TXdYlbiAOKWjTF88wJ54NM4xC"
                        },
                        "arn": "arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5bc8066-c19e-4802-881e-af087748c8df",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-65093fc",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-65093fc"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:YEK9fpM8AjOTnEfT:S27ynoqUcyKziEMN2B5kOOgxEc/cNrlsPJJuenVwzVmWVSmmWil7szTvZLNlkk6QQ3N92jobBA=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-65093fc",
                        "bucketName": "backend-bucket-65093fc",
                        "domainName": "backend-bucket-65093fc.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-65093fc.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-65093fc.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-65093fc.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5bc8066-c19e-4802-881e-af087748c8df",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-da0e98b",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess"
                        ],
                        "roleName": "ci-role-da0e98b"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:PWhJbNPuZ8X3n58d:5bV5B76E830oxsj7l3sQWGghcB5njZKBgyVQbnNI7oimje/e98h8N5DCKxw7+JJgoSuyxuYIHasnUdGyXrXYxT1G1Qmbb09Cip64KBHDc6zBm6lOb4Zq9NUTbcCgiP9guFoQim1gue0M0V0JezQnXPyNhPq2VSINgXZEcJ8rPlBg+okr8I65Hut3taKsQFlB4yKDQ1QEwYZHm+rN7vBuXO75tbdY+cMt4mpuDa1Igo3qkYI4MtgT5EK64voRqyKmRJls1iF6mhgMvmkE2eXgFWm/g5mNTbB7ae+M0KFeMUyj2pK6wYEJ2nda8qxcKqmp3tZzQlXBfXq3f7V+A/PFw7KtgUbpg0JCUeDkILOemKKvqdGjtCPl25ijqDHKPQxqV2gjKxvsJfkqtqysFb4gHV8hI4fWLBxiBLArsI+7q4sDGQ/LT1R1EafxL7B3swygsg95JazTfVaNw1u9WcO0xrJwdM2jGN+qU3nUMoESLq01xIzqgezFheAuR2fvMoS5IHxkYLgJDOQW2/c9u1xWkzhdAS1d8yhQyIdTCg+7vc4zFnxuPwutzBuykVJoRtHSh5ShhdHNzmGreIrbo1M98Ycjg7aiS9srYX4/QSNgykqRykrN8LLko+pASqrz6dFM/7yieABwYAnWYlY/c/GsnYfhb1OgWkJ4UX3BoOjePHllX9n+F3ZtpM+dWO9tdQdrlsIpPK+/ucFfyKXSAFb0dmtfSStN3lAg0XO0qTxfmrETeXKq9CLdWKEgYIcMDcH/XPuhohwTAtrfBDGErBp6EDCdJXcDGgMgvyRTt4MJuWSjgF98w+zci8qLsMu9Ynclb53v+QHJ3NTasSGk1x5BC460b47sqDfrG/3FqvpZ61mmOA7dFPltzUnwkqX2MSJSatnEn/LHZj50p35iLCyDcrl5QTVur0TGhmqSBEIkcuWI1EU+09ybulalbYu9lMlEXTGyyFWSyjRJ1URID4JlD4E0cuXMWjHq3MRpZkTJvZ7x7Y3xKCEpYMFQPb+Kq2KcCu3QHh1JxYsIih14nVPHUgPa+kQE+p9NpFBf73cNSccbzYX+iksloT+lgdvKujdjjBvCmxmsEBtWeMxi022EI0P8Uh3UfCIVBXirTrouxt/ziclbMGLQi/IuQfT1MEVCwuLUTnGUx/cjD9WD9AuIbctZccfb3yh4cudMRXYfkDU5/I/Fo9d69GURak8mL2T2QOTNwLk69BJEUYcuIQE27PvRJHrda2whcPAlJoChCqaNyODd7NxyTmI0tjrOiTV4CJNkwOpuH42rT8HjfbizAoTSx1D9mcbfgPL0ods0XtEezBnNiy1Su0d60pHfq4Z96g333KjYPUCxVi/hRW/hr/bdZdSXE4376qt7G/1TTzT3+0rb/lIkApfiex8fhMPEi/4cNcpiI3ZRZaDTT6xGHZSKpTEB2OkM64dK9HzcmYWa4UGXl/v04cyjNpDdtN0="
                        },
                        "arn": "arn:aws:iam::690622335846:role/ci-role-da0e98b",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::690622335846:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA2BTCMRNTBJOTZCGRO",
                        "roleName": "ci-role-da0e98b"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5bc8066-c19e-4802-881e-af087748c8df",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "663c5308-1888-45a4-82e0-9af4d65a0ed1",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::690622335846:user/cloud_user\",\"arn:aws:iam::690622335846:role/ci-role-da0e98b\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:muvtOH1NQeDwR9OY:ZF9MPhu4zmmwfk4uZkWBKdDhJijfmycFXIvdAgn8bw5in8YtV+8RDq3QbgTCaBn8po5Bh04QnXc+d8Jy44/IX3Y5zyVhqHjKBY7Bi69MPqaWItuw4xKqu0lqAZEf0fr6TPmmTuja6+ymDh+LnztJfXTf5bNoe8X6iAJvHtMCnNySgayu/Y9wcq8dr+2XbGNrFw0HqSDOD2DFjhPx45qLVRR9WWiS6tFI+M7hYRifKRdnv5ZXJc18QQ/83DelMGv9QPD78tyBnA67CL43jL5Oe/zbVV6GBFstvjrmm4b/O9B/Xa+Boj04xuEjXZvuoPxtC9qWsp38jlPlk5sZ7pq4sJAt4Zvvw6JO84nQUSyfxfziUORsF0s2StC2x+CGURF4IGJY6K6UddMCXXrDga5HVXVyzIHWKm8PIZLZ/7oGX2o1B6MP+wwRycFIuZrh7ZfqHkZV5wGJ"
                        },
                        "arn": "arn:aws:kms:us-east-1:690622335846:key/663c5308-1888-45a4-82e0-9af4d65a0ed1",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "663c5308-1888-45a4-82e0-9af4d65a0ed1",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::690622335846:role/ci-role-da0e98b",
                                            "arn:aws:iam::690622335846:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5bc8066-c19e-4802-881e-af087748c8df",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "663c5308-1888-45a4-82e0-9af4d65a0ed1"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:ldndX4MYRJgRrnru:RltsTomkIEanEF7HN4s7JzjwOt3/CA9wBxSQqp3+7wCTLUtNUT7XvPtg2MadXpn0CckGJFRwoYcUPVQZ/k5n6XN7vPYA8lPDriGYGjMtxb8nuZBaX4KXhvruS36gNwa5xw=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "663c5308-1888-45a4-82e0-9af4d65a0ed1"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5bc8066-c19e-4802-881e-af087748c8df",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}