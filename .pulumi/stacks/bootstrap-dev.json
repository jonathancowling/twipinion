{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-08T10:48:09.704973+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-c664e9a",
                        "ci role": "arn:aws:iam::316615696866:role/ci-role-b96a325",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "b5e5ce3d-b016-44c4-863b-7b5781eddb43",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::316615696866:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:tW19Dctro3dpnTBS:pvgx4HiqtrXa1iJ0/ene14tsStSaHeNqUa1qrmUiN6NgnRDqsBAJjtf/PBpxGVM+IHCm0/9RqCj/1XvoTjCddypWrEZwi1xzl+A7257amSzjOLYFpPpt94b4o0lfKzU1XYSneFtLUBbGTRIvlDYDo6QMzCMjhnzjGCAVmGEu9eaVsqsdZHwEFqiNT/c+UqhLmRrehwCl1JwUMe9Uh90GPlGLABh7gsbL"
                        },
                        "arn": "arn:aws:iam::316615696866:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5e5ce3d-b016-44c4-863b-7b5781eddb43",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-b96a325",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::316615696866:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-b96a325"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:bNBdbP/YI+igEnKz:tf01Rgt0MNl2fKj7SCX6s9oglH5raQ0YQXdY+Paj36TVBgxOPcq5gZ7qaWfmyx2LlNCqMyK86vsdy9n5M0JZUVlHj4Z2x9+yYxp6L/zrSWtW6awhr79/FGumhu8SBZzuz6WQElUo40YJZ2LVXqKdvlrPQW7mol2N5g4iehI2KNeczlp4H3XNyMph88HlsUyGdREIkjZY2KhRAHViMRMZQJZbvU6joiSqEIO6fcBgg5PyZfq2CxJj3LZArzz2/fV/4JXWinO3hqIQ/0ruW87OJ8eBfv++R4JZ5Rh2b03hWl4et8ytM9u96h5qNMse/WzvEjZyc/dMvsTrXyEeyHLhZneSWXyyPy3jH1/ybrnGyZEuCcIoy+T/iVpKfrTEjLqIkOuCT2kWWl/688rixnq6fxOUUqlQmkeaZry5CsMSiu88xjUh1vrh6oLEJ1/90cywOP78ml+q2t4Ke717SNpiDVIsDkD/C8Ov4UfV+bbYk/rCYrB9GwjOc+cWgjJQmVXTqVU0pLHPSeewpwRRcscD1ifgeb849Tyi03mocPwxqmc5iPnlbbiC7/GEBefo+agW6IioChmU7WGvJyUcrtweexwuOkAx1lOfgDxo4EZNAjKjvejGWL0yoWsT2r/hOy4BvsVGRGMG1LBeFQLXucm2jzhkBspGausCVpFh22bSgPabSvao+Vvb2K2S4WOMtcs6d/cNGNoGXmS+33l6DbokK6t5c6m6A8LJG6KR8N8U4AM9cAPcjIxljKa0oGah0cyJejeFGjIJ4pc7Ge3rRQSOxYzSsiDFYG9pOIq6n7kw+ACWtJ29e1zVBbhLMGcmNjOG3F23cfEaB8JOmuCGcCAG67jqpMPZq47lb/x9nuYnXSfh7kq8updkpht0ke6dp3SBJUMaBVsmUCWMf9u3dR2XfgmYvCdrlF0CvPs1BaEwxS5euhPTlPZe9Igpay6FnbBYKdK4+wVDRNlQeDVI1EyXhJFVdo1KVCo693+wVboBWGCFhES7KVprd5S5y8cQ6jPgXhNbamQNQWdoUESlGugHRV+sXkrvIrZDoC+xAZ/kAr50p/KMOysSWFhL0ZbfJFxntk7P0bBf2M69Yp3CjJonS5esohmgnPOp8ZR2vTyopyt7in5g5ywW2qDp3Wpj2NHpXqeJOo7uKbfJATqpwglFWBP9VXmMsB8pKrh5ORD7qXEoJTIsm6xVDOh3husTvYEPHR5FNH+8Tc8SsfYdNUViXATKa+AasN6Ju9K6DxrH9NuGvarCQBNRQRBuc37BLcm0VglRwWKPKc2J8BnLwkZsD6bfGGigjKHv7qnhSxJ8jmuDw/HqhSWuyFHSlLKsZZP9Wjiv9ayyEuBZYcB0MFD2yjtD8Zb3nX3PuKe4O73oWZdDQ3xuJiTiDYoKAXsHQCXhA1hNZ4oGqyeSEQLSF9bOVkeuB5Cc6eYuoZFOpAI2fM2G7GJwX3KT8OOxJGHMUAxGgtRX8q8Orn8JP6rZZ0CafeiDw1kF4AEU2ThmU0LZG6TDw6+1VJgmN7g0C7jD"
                        },
                        "arn": "arn:aws:iam::316615696866:role/ci-role-b96a325",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::316615696866:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROAUTN6EEHRNB746CZFS",
                        "roleName": "ci-role-b96a325"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5e5ce3d-b016-44c4-863b-7b5781eddb43",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-c664e9a",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-c664e9a"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:1+c2UmjKqxe2zqBi:m4iLt/O5Xsi/mx5yF3lu4E+KJmWLTeDSVRhjXt4814AuB1JfRWoDTDmFwwCOXjvMC9k3DT5hCw=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-c664e9a",
                        "bucketName": "backend-bucket-c664e9a",
                        "domainName": "backend-bucket-c664e9a.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-c664e9a.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-c664e9a.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-c664e9a.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5e5ce3d-b016-44c4-863b-7b5781eddb43",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "ab05ef51-85d0-47e2-8ec1-680f586ffcc1",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::316615696866:user/cloud_user\",\"arn:aws:iam::316615696866:role/ci-role-b96a325\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:QbKewbkh0GNbFXBY:WH2Kyu3nN4btlXXcnErGodp+MUxVTCLCSNoAfd+rT7nwCxzyWlIqwiJfaom+8E2m7WwVQL2surohgCm0L+un+D+MI1+Jp3Q3HaCR9fJVcGhG01sScXAhwHWa7HW1fdvwyzlFqYmLMswoEOCtpjNgys9gGcaRvHo9mJL8VXPukv+IIxaRkb5NjphB6GaKa1D4AQ1UPSyHnY3MDco+zBtSwRKX8EKaHMW77IqVo2sMMUF9fybP3kHR0notzVX5tbG3y/3KPctelUtUfxmbmbEhQNnr8l5X0u1dxiWbUJXjPu1f2K8irOv/8C3jXfp+kk/LwGA9RMPt7xPyKoCTL7p7/hA0p1UYYU8sqSrJ8QPQGOHrUZOcxZnteb1toE7X7N6nPz9LeH6LTUUg6Qzr/Vd/9RdDs+dHbdEB2kVWu6FUAvIFBZXZz3i5z7+UpRyJeTNB+lDcmQFS"
                        },
                        "arn": "arn:aws:kms:us-east-1:316615696866:key/ab05ef51-85d0-47e2-8ec1-680f586ffcc1",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "ab05ef51-85d0-47e2-8ec1-680f586ffcc1",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::316615696866:user/cloud_user",
                                            "arn:aws:iam::316615696866:role/ci-role-b96a325"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5e5ce3d-b016-44c4-863b-7b5781eddb43",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "ab05ef51-85d0-47e2-8ec1-680f586ffcc1"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:hyhYDa8TteUdGK2q:4yuDlempQScI150t7ODSJwZmtm+hQqth8w+nzZ3xN7RHEpfgmmcf8QF0O0P8MNHGqmvuUYBQjgl7Rsh1+viQbY48q3d1X/5OsjmC2kOLsS3FQUieGXxOhg3TzkOyytuM7w=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "ab05ef51-85d0-47e2-8ec1-680f586ffcc1"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::b5e5ce3d-b016-44c4-863b-7b5781eddb43",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}