{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-07T10:47:58.606346+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-fb407fc",
                        "ci role": "arn:aws:iam::941051693406:role/ci-role-3fa1940",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "d5766d31-70dd-4af9-9eca-b3ee7f070189",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::941051693406:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:lQyhVkc6okl1aPh0:B6XEWWblfjiZCS+yK8npbEfjbiCgl+r3bMWMXW7UdG2cEMt8QUqujZP84T6AXAS/kkgLQacMlq2nLK0UH9o6vQukB7/p2ICfiPPAN/bo4X0fLI8w6jUr5t/g3APFO22fwXDv+yNXhQvWlrev+b0fq05ggHQu+C6Z0pWFaGU0F2Ks4nX23CNJ9ebPv8qNULEGj6hDwuHivT7RIkV97z0PaLlqSnix6O+r"
                        },
                        "arn": "arn:aws:iam::941051693406:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::d5766d31-70dd-4af9-9eca-b3ee7f070189",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-fb407fc",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-fb407fc"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:q9Ufg6HyYBJOJyll:5esApwamk6NDqmXh2g3N69I5UaGtzOMI/cIvCsLLmaG3nnWyJ2A0pkp93uw8+JukVGrDWcjhDw=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-fb407fc",
                        "bucketName": "backend-bucket-fb407fc",
                        "domainName": "backend-bucket-fb407fc.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-fb407fc.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-fb407fc.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-fb407fc.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::d5766d31-70dd-4af9-9eca-b3ee7f070189",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-3fa1940",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::941051693406:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-3fa1940"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:davzBgFBMvY+5Tlz:4KflOAv3+mmBbZNUxIhCJ3wbOoaJlcq0LjE8LwlrKcdfiXI/kOSYBAMMv0g1rZyK6akzLhs4KmJpTaWpZu4AvGkJp41VNDKYx9KEyKjxO4FjLMkPzeXKUE2zOdhCg9q2DV0LQugeHIdNuz+QkUaae25uZLb7bfMH4ymCKO1+jf2GgzoswNQc8O975Ybj73qPfv+Q3JtNVRnFpNFlSvcVXgTXYFs56cO4SBSDqQ1zkc++JyKRvMg09UTczgcm5N1d2xYY/rY4gWqAR0ke8h8cAKatL2DH6/WYpxFFk3rZ3ogZrglZcnqDjfcE8HeQErwsNC8ohL53lT+GljCUnkvnvLtbT56LYRr2BN83YUjD8krzO871a4052SPa3Fjapacnm0nW6fmUUeZyzz+Tcx6Cto6o1Xzu/Q6+Wusyrg3T3G15tsj08gKTAgUYhsJAqiMZtpPc8d/TlUNYZDBPVnd1IT8W1JoKZFwdDlYePmibRQtHNb09fUO4/0V7hANtCw97euiKeXoAlYLsA+yyl8JMcMByR+N27pBZKQJD3aim+cTL+HHTtXa5U7RDxMwchDuSBknYGmsTxnxeLYilzoNkjovF5UranbMe6tGhh4yib9WUpuoVstZQxJwK07lgRORjY8BxQWj/HqJh5lKQ/kGRpjGWgUEl/i9XSuW+Gh7ap1GVs7Gn52iQvYK60H1tE/h67snRWTE9EQWpSzThPqRuJSH8bCGIlyIhKRYk52T/TK9P2cvWJr8GLD7UrqSpwvF6Oa5AVx70iBVVbKrMBKoAoW2lMq0u7s9nvxEINtPJPzqZNM7vH6BCmo8HsytAjHfElpJm3JW+xN4KL9Nl3yec+qMQgb80f9Sex9N2qNviQTEYMz5+OpuilvTfZ2dvWu9EegLLwPAu5/yPIK8IdCEMBhOe5b/EMNDLDE7BZtSMx+5QRN+Skizs0U/SWWjRro4hRtplhjGxDVf5k43MxJBhKC9/gHQZhc3KNJ/P36LH5Ltkso0UpX231I5mavaBVW7wvUChVdTWR81pDv8uipNVJ7C+p/4sK7CYoM5guzTEOFM+DNmgnFQhmLNaBy/iRsGTviuRblO4gqwr5tCwYKxh23rAwLDmlePIkcDBG4cYYDMGOMO7rP3Yyy/j6QoTy5wp4K+vOmhdJ1kMdvO/8sXh92G0aTKyk5IhhEhsUyEl2PnJFZHF8OUrV9PtWpTmRkd5ljO7hfk8nWVX9eR+3PjN7MmtBp0yOL/4+hW1edTK7GnL7PSZynoe5X8TXBiMofWM1D2ur6HoO4UKrnVEpNyYWD2raJvSGMUJLLd+bkKaeBVMdtR6NxZYud2qUNa8apQ+6qdNzsFuaJl45ZjJon765LmgOxE1/pm4jfxwSwDYDlSWorYahu8ZYvqakEegZSybqB6RFyrnwy9ZzqOU1s+Sm4eLAOG6ZYrxqA5YCMIZwB6Hgw/sMRxapPW0IDCpMB6y2RAjgEzXLF9zMqtFlQod7TcDsrkr88sW/7h7OlKND1IKeW0/qhFTzb12hNzV"
                        },
                        "arn": "arn:aws:iam::941051693406:role/ci-role-3fa1940",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::941051693406:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA5WGYNJFPOGQOWWUWX",
                        "roleName": "ci-role-3fa1940"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::d5766d31-70dd-4af9-9eca-b3ee7f070189",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "c16ea477-4000-4d71-b9c7-b0320f648858",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::941051693406:user/cloud_user\",\"arn:aws:iam::941051693406:role/ci-role-3fa1940\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:/K5qFUu1tVys/h9o:miGnY3zsfB3TpzpQmV1cjQPydU2dUm7O+2IbIQLxvr3Cz+DoX3eU52IPdWhkABxHE8DHm9P7g8Uc2SfO0iXY2NGTFm81Y+ohMRVux3IyUE84N9EOVMKepxVFguWU5Tg0yPtYl8oOvEr5uWti5cXuPHnd2sW9dmlp7kUlcjMCgiZEvSgG3qHYIKXN1PWdifwFRWyjfpDu/5mL74UC/BpApOfYwQnLQhqdO3f2jq4N/2oWVQsqkbhTsuv64NC05aYXOVKH9+wCJ0yzqsaXZZJIUfwJE4r9PiozTVR8p3964fy3fj9Qf9cGYGFVTtwgujoFZyqa3EONcMI2241rJNb6jl0QXdOJeAbARcXimZPSgcve2ozGxPPtcLn+GpMCUxhwlCsVb/hs1r/tvQwzhsd8EPzvVJqcBXPhwwWvsJGhEiIzEbdDsIi3ekbYvXnMy/4u4HsRnTvW"
                        },
                        "arn": "arn:aws:kms:us-east-1:941051693406:key/c16ea477-4000-4d71-b9c7-b0320f648858",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "c16ea477-4000-4d71-b9c7-b0320f648858",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::941051693406:role/ci-role-3fa1940",
                                            "arn:aws:iam::941051693406:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::d5766d31-70dd-4af9-9eca-b3ee7f070189",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "c16ea477-4000-4d71-b9c7-b0320f648858"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:2/u6YbUUX3xg/bMU:vWyrzPYUL85Ej1/woB6MIkZ/rA0s4IFny1CP8pP7kAVt8rd4MHOHbDhmeUHubHrZ5gAqPGG37K61fq1tVfhpH85W23elr4SvvbyMMpbCD4KZf20Y9C3H/kDbal6UoWZaxw=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "c16ea477-4000-4d71-b9c7-b0320f648858"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::d5766d31-70dd-4af9-9eca-b3ee7f070189",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}