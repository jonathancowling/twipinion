{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-08T16:03:49.35821+01:00",
                "magic": "568473a2eca536a7e8d600444aa57b4c9fa16b4ee98825be896ac6d73de5da84",
                "version": "v3.28.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "bucket name": "s3://backend-bucket-4eb0f69",
                        "ci role": "arn:aws:iam::211387097341:role/ci-role-23f4ac7",
                        "secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "431e58ff-fae6-4cfc-a89d-9fe3043579cc",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-4eb0f69",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-4eb0f69"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:Tijik5CLMkfsGpW9:hYM2f5iE0NRmiNII237/9QxWUQbMNOLoyiMml55Gjbvd7t7hulli/z8qGHr4wGgifnffqz7Qmw=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-4eb0f69",
                        "bucketName": "backend-bucket-4eb0f69",
                        "domainName": "backend-bucket-4eb0f69.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-4eb0f69.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-4eb0f69.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-4eb0f69.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::431e58ff-fae6-4cfc-a89d-9fe3043579cc",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::211387097341:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:Vifhgzw5N+a7tCXJ:SByDBgFq013JzxTpERWXgNeaMvIXuZjpfdaF6V5k6vO9W6U4GYuLlh7Gfb6JlpzfTkyywK3Bk1+mq6we/X8Rh2AhsiOtX55eDOZ1O9EKoIfTa91OYD7Rbd7irLKjxGZKQsGCB9KKLNO4otKHUve82R2vyO5rGW7P5SNSScu9gn9NngYq5K4q6ro8h4/2Fi3XUUb51WuPyBkJgn16c1bHoSFvDv6oCxoj"
                        },
                        "arn": "arn:aws:iam::211387097341:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "a031c46782e6e6c662c2c87c76da9aa62ccabd8e"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::431e58ff-fae6-4cfc-a89d-9fe3043579cc",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-23f4ac7",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::211387097341:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-23f4ac7"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:9j1sJJ2qyEg+0Iaz:oY37loyS1iZyWcdC5uvxpXkup1Nsn8UUznN/fFcpIIev6p03MYizpgV2DaLXZ4mTOT9Pn5qTqMiPTZANn7spuPDfLx5K1InJYTFRd1kMULAK6ovKZGeHGv6uvs2tv+IuH5Rr34RkvIVqQrSANDDOBoBPVnjonpvKXuCa5+1+1Xk+Zk8eoU9Uel5njBmN8wd2mvbt0IhDM79lbj6CYXsgpZY+7T03ZN/SgSi/w3Ewo1K2YFQalDc4S8+kgOUlIwWQCbL5BIevhij9qRmmiQpjVZKl7Zml3fvwNAiHesSiE2TQ3095DqJ0YVnq3qmHdcKY28jWwYwOzaBnvUdfHLCdP0yi/zbOro49/zay1AN8T/UgEnXllIIO+uyU2dVGPkaARyp4jG86qhNJNYliykRy4nW7PaVSQoQUQCWy+GS0McDjQ3hzXvugoCsAJIkTxlrcdOn0nggLVksn9WTUZRI/WULZTZe1WGqHjxppmNys49fWgO4LBC5kv+VZwf4UU+mU29sGGX53xpRX+zi9zdoqkRLsxv1roPNnMT7+PcN9EtUa8LAt0sTVWcwehlCjZnSIaquc5kT5RfoDY+YUX6ukoz6MkkaEgVGn7zfbii6csQIw58MLIbc0lhxE+Dlmt6IwcwCWkU/xukLooSokti0s7u1uGnWcp5RvXwDvwguSjXIypBsfySxIXYg//+pS45synT1yya2/8L5/do7AZztEVJ4NLEBkexfokvjZ2iXOSf2DdCRbfjI5YtsXWCu9jLYZqwHwx318mNNQeFfb+yS38iwYUTR7En447lPLSqc3ibif6NIdNBigdvdNnGavbwmbtoYWc35esHRhyipmjHiD/K1wq6xAW8cDsfW0GC4jrXnZA2MlYJQbMnoZdBAyIKClZgCRAVGMHpNCfv7eF4g7zkGTUKVQhjZzmM0IUNz6jj0YV6wS4J0OdJejD6z7UJOijQ9noo5+8283bxyWQwthpqXgQiKg0GGU7zNiXk4GlkR3IJ7y8HgM9sZ+aScHMCtQssLKlGhIcmWUTXdCgQ+ouHjSJQrs/8ney24yh4bVkLGA8fS+ZR+vMQxVOALTZuphJlfb8cpo6KQ8qHNWBhs0y1GJfPN3xDyO7D1Pk/r/vf/kIioJGqZyV81C5puczvq2Ofo7EvHGsWqXnvLbz/1QNjt3B8cSicjVJy19SNenOLzWedRshw5qVVpUqZHn9aslSFXnMfTkU0QQ2hT40fIVhp2IHO7CFqBk9PSd6DmIseTZ4Ns2GcrLQFmcNXR3zHh5ifAWCD2M8O4WzUNE0PFVYaHJsebFEfMAiI8vc6NQTJLDuV6NGlqgcJnmGn0Fv/tylL2o08WGPGr8xpCOXTkxPFsdD512V3ni3kgGtHPa9novwOnLwXu0s4kiRBcxh5efZR1HA5jvELOKtJxVVseCxIhuZUh/+w+MAkIek6gUamp4viTn09cTRb6vIVIz9GsmHojkWNAAYFQayhUKmk9R0l3igX8tKbB/IR7OpjP4uHO+1hUaOFm91cTvHeG+"
                        },
                        "arn": "arn:aws:iam::211387097341:role/ci-role-23f4ac7",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::211387097341:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROATCN5HED6WBWV3JD6F",
                        "roleName": "ci-role-23f4ac7"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::431e58ff-fae6-4cfc-a89d-9fe3043579cc",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "71dc0999-d225-4365-8f4a-0ff95df6a339",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::211387097341:user/cloud_user\",\"arn:aws:iam::211387097341:role/ci-role-23f4ac7\"]},\"Resource\":\"*\",\"Sid\":\"Describe the policy statement\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:c/U7QC5IFERVj1UC:4eAi2rla/UNZL7+/RjCKW9cYs3ovaJsTxcijE8AqEPymNATEIcMKGGxaC038zCPnCayU3AR8REU75/7es37/+JlVfah8RU+7NXwUbqQsxAsC66s53oCDrHoflDKlhc1mXaIvS6n1VKGZSd10pdRFYUR/ZAOg1jQuRI3BdaZZyNouZvaJ2dvmeQBeXaegW1s6cqKMAlE5GF2BHIoERe4PiHx1ok/cbL8NOL1Ggc6cD4desL2qRcUG+RY3HE2yAHA8YQAq4HVNoHlylJwcnZoS6IvXo2z5000JGTqCAwgJrXeGmrp12jOE4+Le0W1sTAkKdT/hkr/Hp2svBAmHd+2yxwk9/JuaCwXGPqNWVNUCTdQxpgxtOgDaZsvFc5wQlUanmy9cmjcLPbK5PnYn8v4s4Uxf4lIsDs3wg58nXNM/u2JJnm8XwroNeVbMiu7zC4K5hSDgx25f"
                        },
                        "arn": "arn:aws:kms:us-east-1:211387097341:key/71dc0999-d225-4365-8f4a-0ff95df6a339",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "71dc0999-d225-4365-8f4a-0ff95df6a339",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::211387097341:role/ci-role-23f4ac7",
                                            "arn:aws:iam::211387097341:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*",
                                    "sid": "Describe the policy statement"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::431e58ff-fae6-4cfc-a89d-9fe3043579cc",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "71dc0999-d225-4365-8f4a-0ff95df6a339"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:VpsdMX4dETBUANyy:mhaq2jK0XrkSbMuzqSYNM7wug04Wnn6IpjTaPpIoUCHMOwC9wBSCaXBEGkuifH33Z/LVjlqVUb2T2z32wyGqQgTpULvah1X7myj5kb7vDma18ljO1AN7iSVDw6vyHCcYPg=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "71dc0999-d225-4365-8f4a-0ff95df6a339"
                    },
                    "parent": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-dev::bootstrap::pulumi:providers:aws-native::default::431e58ff-fae6-4cfc-a89d-9fe3043579cc",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}