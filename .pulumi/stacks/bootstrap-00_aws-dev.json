{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-00_aws-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-26T14:08:37.374004+01:00",
                "magic": "f18625eb5592f6d57a3a8c5bfde984fc0808d71ce3f046fd68e1dc4a989f43a7",
                "version": "v3.30.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "aws ci role": "arn:aws:iam::921613977667:role/ci-role-5e2e30c",
                        "aws region": "us-east-1",
                        "pulumi backend": "s3://backend-bucket-1eeb33e",
                        "pulumi secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "e80babe3-b997-4285-92d1-d2a15dbaf159",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-1eeb33e",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-1eeb33e"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:cNzL/L2ZYRO7SELh:IWhMGD4233hbUnauvpGvRF7fe03IYo7QJnVWe3LsUtKSoJRGQeqS4LShEhn89Q47Q72ZZgwdSg=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-1eeb33e",
                        "bucketName": "backend-bucket-1eeb33e",
                        "domainName": "backend-bucket-1eeb33e.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-1eeb33e.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-1eeb33e.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-1eeb33e.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::e80babe3-b997-4285-92d1-d2a15dbaf159",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::921613977667:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:P/PwmXFOFq2IOmqy:T/am9XQWHSWGHtwspdTIs2kOaP1/Vksry25Cix6gauRjK7faMcNC4w/p6Vqxscl72AY8lsM5ehFNny0eFaRiofItlOrmsZXPGJbVHhmN+l2ppHYc77TlMVHZs/TwgAHjzjjQJcWVDEfRQJ2BiCvlFZlhyPgiGQ0z+KPmJFZpi59IF4kM8bjLaI1IJ4kRZysOuWMm2rFGI2gSvGcZi+gBoVFbNUPIrK4O"
                        },
                        "arn": "arn:aws:iam::921613977667:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::e80babe3-b997-4285-92d1-d2a15dbaf159",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-5e2e30c",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::921613977667:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-5e2e30c"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:/QL+rVj0UjwzgwyS:isj0mnuTZGJrDJQEFNwBa5semcyhj+CdkOHI7cOzS/g3YYg46kVdhvS5TPpU1SZXGxOVjBre/bjX+WhEUhD0OybKLo/516yGjfSITJjguuI00Vu3wVapRRsYyXh87lFDfrLoxW/viHI/LzOJNIJSXZAC2uI9BYlD4hR3oZCcrN0YxBKdF4mnABIkutVSMzkESn96CMYCVBQn/s3HzmO1QjFTLshtdjy4Ou6Kft8kDZpHsx0GFRJHFlb2jtgxVyXXkQkn35j8k2NzMieEgdY0nAygaR0BZEn8SiNBUomOUAXpTzN1afYvJXTxFUoKOJlBYdJ/6kXBge+2YVoxubi81qq6oK/6y6cO3Kmqv8qCjnVI9y0H2Yz3ZP/EVNOh4xbHLf5a21wwDODADCTFg5YZnS1pX0yLrkXBYJpL0ZyeYZNJhjEPDmNea8CSoljsz1C1u9JifwTOQs8QSWuTCOIOWflaexIcexFiRN0h2e1QJWVSGW1KZsbZgEtSCD1Xto6zLDHUUhddpYa2c5zj9bX7ugQ4Vvko4HEE3opNysT+V/NlUm4wt6xu26DrI0/PD7jTP6+nsmh0n0UokhlXBkWoXy8gQVKktNSgGEMDVLz6w9argWWkN2R2Dm4OSSSaJuyDosME9TtgU4T2jH0YUR4KRbcG6K2renI0AlQ+ngpDSv5fbUB8g0rzeBxRxwtkcRvsltvkiqlOn9ZsY7azZCFHBgMGQIAaNZQavgM8yN9I0spd5RpMtVreFSEyTl5a5Uq4YjxtyRNhbHMjM/5Jwf3Y2LNzqcjeC4bWCYe6MTKgeHLFk/7kzsWhZOq8/+KzutPnd0yVFLoR2z+/niQK0HBxJYIxvtv70QYHJuT+Z0V6sIeHPUMgAMG2NZ/bgaGkETKWerR4gJ/6PnvQPaU062s50NWj2drHwh2InEvrZUoz5TKG0O6/w4+H73OgglC0RnzgTISNGHrTioDR4x9AatW+LpbIRUHogJMj9X07DXaS2egWnpU0N4pR0m1fzUHEckbBvPcMcaVTWNr9+gtYVSlCLwUBUD2GZplRMPS3KLERK75qpvr5GlW2DOKLWm+I+X+/+MnmqZdQOwYIEVSMUkP8FoEW/eK7Iv4UDUCYqqwadOOulqeux0FHzTOHhYvnB85W/PE+hO8pZ5/j86iJokvTbF0/OG9JeXnnY3OKGvWKDn1NBVDe7HBlD0YcNRy6hnF7kceLkcnuBB0iyycLlyZi69nwQC0hzKKjhQ4Z3WCo+8wBLJzs0SOQ/Ie8gX/Z7iwJKufoIG1xzPtYtbalOU2Yt57QdDzAqPi8ptZ2ZxrNE5FHyDLvUv0n4q7R49mjwTL1RJCqxyvaHd1rhOK0+2RJC2anc9FwUW0udUJsBA69yls5MksgzclBzSrQyAB7shp8uO14bS0JG3EtUPpxUAhkLdwML6CL3fTDeKkORb6R4BlFSJg5v9g7opPS2S3pHYAJcwTfm9ZnhgYYSw4V8O397xHPhhwX/1u6eAW8tlRJK3zOxOjfB/esLTDDDAiP"
                        },
                        "arn": "arn:aws:iam::921613977667:role/ci-role-5e2e30c",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::921613977667:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA5NFDZJBBTVNWM5JAG",
                        "roleName": "ci-role-5e2e30c"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::e80babe3-b997-4285-92d1-d2a15dbaf159",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "2dc10658-6810-40b4-b4c6-bdfcf7be464f",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::921613977667:user/cloud_user\",\"arn:aws:iam::921613977667:role/ci-role-5e2e30c\"]},\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:+RVJdEjM699yv+8a:nhOcvyYsDsmT8SpTBmVdcVHzUOUy1PTgqup27TcNKKsUX19FW3UO72z9XQ6UzJUu8wUgthAe6HSaOqgArWILjhyEVen7ysga7WfDabBRkaa6erQbD7lpZJNp89fNSg/2TJHUN6wqv/CpCYqWVE1pam1S6ZiLfxnRidjMsj4P36DdbngBRkz44EHOL0mW7gceDPhw2E2rKEv5yN+xE72HgMvvo5F+nx9OhJfxN9TxuqHHmknOpJMpmNB3KSpVL+9EvBvz82XgoYkMeUNAK7/zb2GfsDp2rWHFx9EmwcEDMwUWP6749kAV/v7B9kRHyFOz7RooYLc19cU9/zGBsgt0YrI0C2SAcqvsDRJDSfGCokF+q9VJyRQK1LVsXbIlybDYEfVzHLOfFNRcujhk"
                        },
                        "arn": "arn:aws:kms:us-east-1:921613977667:key/2dc10658-6810-40b4-b4c6-bdfcf7be464f",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "2dc10658-6810-40b4-b4c6-bdfcf7be464f",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::921613977667:role/ci-role-5e2e30c",
                                            "arn:aws:iam::921613977667:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:Role::ci-role"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::e80babe3-b997-4285-92d1-d2a15dbaf159",
                    "propertyDependencies": {
                        "keyPolicy": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:Role::ci-role"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "2dc10658-6810-40b4-b4c6-bdfcf7be464f"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:FE5foOR7faytHCAd:j0L77hykCiMXm9ubE1oDFloqOq75sj6diEfkytyARhC4AQASXtMo59aAuOkbIKj47E6My2OsJ+dPskxlFEVyHs1DibI4GUZQS9vvnzSEKeEWvjGn6tfBWlAOCGX0gRySUA=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "2dc10658-6810-40b4-b4c6-bdfcf7be464f"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::e80babe3-b997-4285-92d1-d2a15dbaf159",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}