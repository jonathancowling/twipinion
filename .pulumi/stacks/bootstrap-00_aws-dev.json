{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-00_aws-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-25T15:34:25.543553+01:00",
                "magic": "f18625eb5592f6d57a3a8c5bfde984fc0808d71ce3f046fd68e1dc4a989f43a7",
                "version": "v3.30.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "aws ci role": "arn:aws:iam::997139310010:role/ci-role-deca70e",
                        "pulumi backend": "s3://backend-bucket-54cbb03",
                        "pulumi secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "8995b579-e0d0-4d78-8d94-52e25c3ffed6",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-54cbb03",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-54cbb03"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:QtTpaRME+rosYnFO:eCROiJPhOfQhKqSXNI2iz+YB7vSh14k1QW8d/ynUlg8JQ6DJJwhVkjoxpRWqHgJMqXadeMKnJA=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-54cbb03",
                        "bucketName": "backend-bucket-54cbb03",
                        "domainName": "backend-bucket-54cbb03.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-54cbb03.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-54cbb03.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-54cbb03.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::8995b579-e0d0-4d78-8d94-52e25c3ffed6",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::997139310010:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:g3Tbv1Jx+Gc/DlUj:+IZ6nTACTV+Yhrfa5SJDuRMVrncQ/JWZ1oBgnbwAOPHdshWjxEdGemC22aQKWtvGS+XlqQK6kdU+Og7wlIwAgU35+RHEMxdV9PFl8Je8HvqbAK7C9DGH2YnNZYJQYJWPK+GY1V1P0F/Skmc/iE4sg2wF1Dq4Mt7RpLnKegI6Qu+wnsc5hOZeig6m/qCaU9C1wmA9NaJimw9Fc55d7s6U7cYwO/8o/vbh"
                        },
                        "arn": "arn:aws:iam::997139310010:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::8995b579-e0d0-4d78-8d94-52e25c3ffed6",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-deca70e",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::997139310010:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-deca70e"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:AO6tuVqlhGWrKM6D:9CKQwmgmQnDfynatp2o94btKgBQCktesJQm6YZYOdjlpoCdLH6SR6uTyYpBQ7PTxWg8YpNZIRhsuM0hr7kAgAt0bD3zIuLVF2vUmNFGgCz3qo2yQ9HrwPjqhtTuLYd2I96ykYb5Yz2y8p1EkP6WFhqA+D1YW1TuQJFkWAJIPr4NizWmpAJ73gDc2eWH0ZE9tUwkHJRpxCzqlFekWD7vJyJuJHFyir/1EiRXpoPIoHjiKJdc61Mk9hrDF+cQ8cRnU/l9+A9AAacmX8VXDaxUOXW5w1Dvp7YdBIrRdUGzsWR5+4Vu24yUNA0vws16+0y9qt5pVm4+V51Um3QSmHdZK3JtOLybKdGK7LOXHjmb5KuybgwHVdryA77e0n2BfUuYbIsV1qBFelN+6Pz1WOHjpvcD1QuWGrElW8M6aE9LnBNP30pdXjRkFLzKY6y7jxxf7XJG9kLatf1OPaWa0tcMfae6rTL9KUWH1z+GeIsJ7/I6a1pCJjB/w/AhHRaPz9dftRiFpmhEldpmLfswP5V3eZwpwN1TslQVf4uuBzA11LSZP2DvXNeUS7pjVYfL2rK2WbUcDUnLQl5wO6Dn/GVCNhwuk5rRBUgR+jOvcFo5kdrgRs7dUa/y9jCioyiW1DudNddkhjb5c8/B+xkDahOikqQdZK4urIjKNEbKCo9nnc7vuPDHEUiyteQyP4zK8r0uI+bpE7veiH92Jof9TiatfVMDBVpIp5K5ETjZ4WWYo6CpWbuzI4L/UhSz3e322n7xE5LEw4Sr0QWiZnuafZ4yH2AARZ1kOcanqQgIZ6UHQtPUIMmhplYHXBul1fL1jBYnJNJ1DU1bsQ0ninFJlWq3sX4hWGpvJQ+2H6nSy2n079YYyLo+KZLWaZpJI0zdNAXiHnjEG2j4tfodihaJp0nqRs3zQ1pD2DJ3ad0vbbcDPP9Gme8pQxYaCLM4qxNd5hCNz8CO/uATimZI1GSwcS44GpjoQ8lElIfy8QxcGJyvF7YURDzoMJVWsCYWWg6vbCqe0/VF0maIcMnWfgdJ+xGXY027j4IUIq6IlGVHWRp2YP6/iNEcsMF1iwCWKD8ff19egFA4ZKX44KsuF6FQP0zdbPevFlRkOilBtoTIrmOzWY2FVTg6KOojdUN0BCOXsPESkUjeY54W5dlT0oBYCOiImPVd/nVSed816lDHi8DWhonV1HsPJFfSXe7erjGm8QdgpXOKnPDx4BNCV69tnxOeB8rmoheo3wmvVgzu2g92w2akWiceEvpWfo2majSU0gGyzjLYLXaf0snkbP7qLR1t0BR7yKeUGqEGfQqx2OR4WM4zmV3kUZo8GNwPoTI4R9GONRVfWsE4fPVhR3jHcijAHQaKdB43doAwkamK1XT+zIJoDRRxR3Rw972ds4RuVfn4SQEfL7SOs7duFvDOaBuo4WqqYGlv05WhWldHSOFFlQH35nCu+IZJk8bLFNLKFp0AYhMHfdi0cVLmTL9/XegGAOo2p7Q7QuNXlaORlflT86oYbtJGw3Iyrq6byAtND"
                        },
                        "arn": "arn:aws:iam::997139310010:role/ci-role-deca70e",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::997139310010:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROA6QKRCMW5P7R2A3VKH",
                        "roleName": "ci-role-deca70e"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::8995b579-e0d0-4d78-8d94-52e25c3ffed6",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "457265d6-532e-4747-9246-9959a9a24b47",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::997139310010:user/cloud_user\",\"arn:aws:iam::997139310010:role/ci-role-deca70e\"]},\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:jjCQyHeqh8oVtLz/:PCbiVVKfpIuNVuCpByMdXZtWVxojrybKpG/np7OK6Bo86wfolqbtMN3+chdUoe45hcEFgNk7E+d+Iun+HIZrcMcC2LjIdjmkzPyhXv1koBqCxLHlihgT+sjOOPnsp2WO/eLhrJ0AqFpktsuLquVfHL9mmpELNLk2h+y9SccSy8VoedajM7qMxpGFjOPr1KdRqbYNVokdVoh+UNd3w3N4yqZzAjSzBlGARxrbzC9rGxo2iyHpZHeD6BB7323US9hEtnYDsTJZnMnDW9rWZfWuKUmWXgRuAHWhOQauXTezFofBYbtCGiCqjDiHnt4hQqa4ioQBAsOkx6bN3zUwe5AmnmLF2teik0I209uCbe0NW+Bkt6fUVo2YYFT/FJcYwi2BnT6MJcO2y5XBGL0X"
                        },
                        "arn": "arn:aws:kms:us-east-1:997139310010:key/457265d6-532e-4747-9246-9959a9a24b47",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "457265d6-532e-4747-9246-9959a9a24b47",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::997139310010:user/cloud_user",
                                            "arn:aws:iam::997139310010:role/ci-role-deca70e"
                                        ]
                                    },
                                    "resource": "*"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::8995b579-e0d0-4d78-8d94-52e25c3ffed6",
                    "propertyDependencies": {
                        "description": [],
                        "keyPolicy": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "457265d6-532e-4747-9246-9959a9a24b47"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:89NmZi8xo7L+L3Qn:uvd44tZO6GgJjqSS0TbJt78gKNG/+YYXJ++UyiCLGLqtc8TF0/Y13ukraD+flpEhJbOIMiy9ITAGmWNv4w+BOVq2lQXoAWxatPQUNTbdf/Ia9/QX3otTpo3uPrFTKLN3jA=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "457265d6-532e-4747-9246-9959a9a24b47"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::8995b579-e0d0-4d78-8d94-52e25c3ffed6",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}