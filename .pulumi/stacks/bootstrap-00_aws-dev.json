{
    "version": 3,
    "checkpoint": {
        "stack": "bootstrap-00_aws-dev",
        "latest": {
            "manifest": {
                "time": "2022-04-26T17:45:26.7659+01:00",
                "magic": "f18625eb5592f6d57a3a8c5bfde984fc0808d71ce3f046fd68e1dc4a989f43a7",
                "version": "v3.30.0"
            },
            "secrets_providers": {
                "type": "passphrase",
                "state": {
                    "salt": "v1:DwQkdFTsZpI=:v1:0MFUpbb9mxNiksVT:eVHUdSGvXH/8dEvKEksWsxhL+K+Fgw=="
                }
            },
            "resources": [
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "custom": false,
                    "type": "pulumi:pulumi:Stack",
                    "outputs": {
                        "OIDC": "token.actions.githubusercontent.com",
                        "aws ci role": "arn:aws:iam::115177268320:role/ci-role-4aa13de",
                        "aws region": "us-east-1",
                        "pulumi backend": "s3://backend-bucket-3945ae9",
                        "pulumi secrets provider": "awskms://alias/pulumi?region=us-east-1"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default",
                    "custom": true,
                    "id": "5c182eb6-80ea-4f9f-a9a2-3421f4ede6f4",
                    "type": "pulumi:providers:aws-native",
                    "inputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "outputs": {
                        "region": "us-east-1",
                        "version": "0.8.0"
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc",
                    "custom": true,
                    "id": "arn:aws:iam::115177268320:oidc-provider/token.actions.githubusercontent.com",
                    "type": "aws-native:iam:OIDCProvider",
                    "inputs": {
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "https://token.actions.githubusercontent.com"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:b5UdkOwlLTJY+n9p:Z64RggiYU5fvVTC8Dreh9prZ2BqCFQJ07qB407vDqSNxMc8Njqvnpii8OkXStSgoRGgd0OCBAtXqfvXujn6CNiwjbOM1+kNO2eQSHF712l2DZXsNQl3B0ZFzxM5QmbGKVoHqQBTMPASdDuTEKYWVC2EXX4+XHhH1mHiwLm67qK9THSDQ+erflpppqQbI5TuOvfUTHx0tjcBmPp1ExI4+dZzV88Tt8/bY"
                        },
                        "arn": "arn:aws:iam::115177268320:oidc-provider/token.actions.githubusercontent.com",
                        "clientIdList": [
                            "sts.amazonaws.com"
                        ],
                        "tags": [],
                        "thumbprintList": [
                            "6938fd4d98bab03faadb97b34396831e3780aea1"
                        ],
                        "url": "token.actions.githubusercontent.com"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::5c182eb6-80ea-4f9f-a9a2-3421f4ede6f4",
                    "propertyDependencies": {
                        "clientIdList": [],
                        "thumbprintList": [],
                        "url": []
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:Role::ci-role",
                    "custom": true,
                    "id": "ci-role-4aa13de",
                    "type": "aws-native:iam:Role",
                    "inputs": {
                        "assumeRolePolicyDocument": "{\n\t\t\t\t\"Version\": \"2012-10-17\",\n\t\t\t\t\"Statement\": {\n\t\t\t\t\t\"Effect\": \"Allow\",\n\t\t\t\t\t\"Principal\": {\"Federated\": \"arn:aws:iam::115177268320:oidc-provider/token.actions.githubusercontent.com\"},\n\t\t\t\t\t\"Action\": \"sts:AssumeRoleWithWebIdentity\",\n\t\t\t\t\t\"Condition\": {\n\t\t\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:aud\": \"sts.amazonaws.com\",\n\t\t\t\t\t\t  \"token.actions.githubusercontent.com:sub\": \"repo:jonathancowling/twipinion:*\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}",
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess"
                        ],
                        "roleName": "ci-role-4aa13de"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:vsW6JufrhCQnmhvN:q58K3lay1KlYUPRKsgsR6k3wTQHPqqx2bwBYinSqwHYLT+2nGfH55bVMr47fiPTdHzm/hEwboABLaD7fE3QpAMDJ9cHlbsCMWr1hlKiu0ECqMbK0OJTCxE9tGAeHjld6xWVaJuHrBlz/dqhv1N/7opIktoDe9slpee8j8oANw9cm+/AhomDzvyvWuAlOuDDtZhvw+SHmr85sfdNJhj7f7yfQzblWe9pKYXEoflkU1F8XLyI7mIfM2AiW2dezB6yMeIV4bzZmVwrT7+xEDipeYeqbiJzSLxHzO0Or6GRw+uP8vmIB+vl73uuTger8HIEMnWj18D02TA7tQ5K0UxQUXbC+MNp7ur/aa4YlyZKiFQndSHnxiJVB2mxrjP3+YYNcHc9gQTxBBGfDg2yZJuZCdlopvDCS1jKk/6HQC4/m0MzhkwWffkKXORBNM4kNKaU+TJTQ5iSn1ZacJG3Lm2sbAsdB58c8sSSzuQyBlmcaNb31UfAKdpuujCz02GfEKSAKMTcuMr4Kus6/485r8/TQk6CWRNFZRxVkYqQnjhm3UXzUGx5i7qis9nuEabvSmiBTblHlWQKj50RyiIBvHjGFQBkOXev+8o44XXTOZV/A8AZzoHW5/QW8bS83763y3a7T9M9mJUICMPqGwDG9kV2KoQfnN3vrKNrOMMdhh8YvyRbsXAtUEd2q0aq3iaoD4jUydmBeBLaa6qMWMcaExBN9m0xy1TqCiRQ44PPdE7y6ODZRD+/vff0WbFRHJp8X9v7Fynf6FeIRpXOYCI89Qc3mF9gdsJvjOFGTyK0gAYZis3pp09C1yx9pR9/8BAv3FrA14lWcAydlimRTubDXGjSY131QaZvpnGg/l/258H2E3DVaPic9lXJELDmG59P33K9MEUJq1rDB/lwXYJ+6S4xE3+mAYJSEuV8bt4bjXw+j7+tfWxlvrG8n6zKFfpfuPxfQa9k8OOMB37dVWJr24cPD0ZrXL07wFOUXdsehjcTSxNIj4r9A1PrDDbR5OBTcAhDH1kVwG3yOjUHkBb45llEuq//ByFz6b3s+g+zzPrd1tJF8iLtvVzZ5tBV6JFKeQT2UGovfeCBD2Rs7ZF1H6lW4Sm8mp+eydnhz361Qi6b1k/Y+ELKF+2bKluybrZYjXih7JJ700hP1NYPsEVO0OysGuqw5QpW/eyDqKP+CpJ1Ipp+vKGOTVeLgXOFqv3Gf1WIBbGULJHCZkzKjQhyHA71Sr2T9Ml3xnKX//PTa709RqxFbrFCtUoeO/LHba2NyQPkN1zoPyF/ZMV3dR3Bd1bTzzXeCXSlZnMf7x/enqOKQL2btZolDtbllwQ+gZfTNznEeQaM6cHyni/0VGAR+BzkjGYQwN0ia0/Wm5oBhKza0vKgSccIhFwUGn/gW6rFPX9+3MGAIDjZUBGqSxQced7qkJ2pNrGA5yhWvUFbxRDweYioY0ZQL1i8Z1wyoa65Ge+tnJ3n0lgMci92/EwHYJ7bnkzMh3jeQFvBdt+eztaTabpGZDnm4IrEBH8QDSb7Q"
                        },
                        "arn": "arn:aws:iam::115177268320:role/ci-role-4aa13de",
                        "assumeRolePolicyDocument": {
                            "statement": [
                                {
                                    "action": "sts:AssumeRoleWithWebIdentity",
                                    "condition": {
                                        "stringLike": {
                                            "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                                            "token.actions.githubusercontent.com:sub": "repo:jonathancowling/twipinion:*"
                                        }
                                    },
                                    "effect": "Allow",
                                    "principal": {
                                        "federated": "arn:aws:iam::115177268320:oidc-provider/token.actions.githubusercontent.com"
                                    }
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "description": "IAM Role for CI servers to use",
                        "managedPolicyArns": [
                            "arn:aws:iam::aws:policy/CloudWatchEventsFullAccess",
                            "arn:aws:iam::aws:policy/IAMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonSSMFullAccess",
                            "arn:aws:iam::aws:policy/AmazonMSKFullAccess",
                            "arn:aws:iam::aws:policy/AWSLambda_FullAccess",
                            "arn:aws:iam::aws:policy/AmazonS3FullAccess",
                            "arn:aws:iam::aws:policy/AWSKeyManagementServicePowerUser",
                            "arn:aws:iam::aws:policy/AmazonEC2FullAccess",
                            "arn:aws:iam::aws:policy/AWSCloudFormationFullAccess"
                        ],
                        "maxSessionDuration": 3600,
                        "path": "/",
                        "roleId": "AROARVUIZURQFIREROHMO",
                        "roleName": "ci-role-4aa13de"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::5c182eb6-80ea-4f9f-a9a2-3421f4ede6f4",
                    "propertyDependencies": {
                        "assumeRolePolicyDocument": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:OIDCProvider::github-oidc"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:s3:Bucket::backend-bucket",
                    "custom": true,
                    "id": "backend-bucket-3945ae9",
                    "type": "aws-native:s3:Bucket",
                    "inputs": {
                        "bucketName": "backend-bucket-3945ae9"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:DfFSe1OiPAiybEdJ:AHnJxYy+e5j7MqNvmrun0Z0JP3gJd6rsKbstsVQCoG4Ib9883AfpEZ6l/zK5UJq/ATu1RWCi0w=="
                        },
                        "arn": "arn:aws:s3:::backend-bucket-3945ae9",
                        "bucketName": "backend-bucket-3945ae9",
                        "domainName": "backend-bucket-3945ae9.s3.amazonaws.com",
                        "dualStackDomainName": "backend-bucket-3945ae9.s3.dualstack.us-east-1.amazonaws.com",
                        "regionalDomainName": "backend-bucket-3945ae9.s3.us-east-1.amazonaws.com",
                        "websiteURL": "http://backend-bucket-3945ae9.s3-website-us-east-1.amazonaws.com"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::5c182eb6-80ea-4f9f-a9a2-3421f4ede6f4",
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key",
                    "custom": true,
                    "id": "fdb34586-2bef-4e1e-8b22-e7c4eeec8e0f",
                    "type": "aws-native:kms:Key",
                    "inputs": {
                        "description": "secret key for pulumi",
                        "keyPolicy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::115177268320:user/cloud_user\",\"arn:aws:iam::115177268320:role/ci-role-4aa13de\"]},\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:rR76xcHHPzhPsFjt:cwXa3XYBBI3q9oUtpG3bqlBYfbfZB1o7jhmXHEP8me0jIrFe/Jx/WTKLjdJf+hRB0z20MJkGKvXLYrEkVdnkWP7/xcaqBuFohxGY49rEoc/bNA2iqVL3pObEQ5Sn/+ROAbj3NtqcuE5ATQUaVevoN9HeZVw2EAvAN//7dE6BhRKOwCMppbvqQmQ+k7Uz6r/sGBSj0B18dq4bldOtnJdCcPZlZACV7glpw5vtrDPZur/UijCGhnOWn9qDCaowIPyK/Ww9h0LnrDPZX3sfqFxX8+Dsdb8wpAujnfUU/dRM6G2KTGZVgUl1A3bBr9c9/NnXlUV01I3sgKnpt8DgsDOC6N7gT4Y9MU68tocFw6IvnRppkivHDS7U2vdYLNGEOjhoos1JX8Cwt3ARIHu7"
                        },
                        "arn": "arn:aws:kms:us-east-1:115177268320:key/fdb34586-2bef-4e1e-8b22-e7c4eeec8e0f",
                        "description": "secret key for pulumi",
                        "enableKeyRotation": false,
                        "enabled": true,
                        "keyId": "fdb34586-2bef-4e1e-8b22-e7c4eeec8e0f",
                        "keyPolicy": {
                            "statement": [
                                {
                                    "action": "kms:*",
                                    "effect": "Allow",
                                    "principal": {
                                        "aWS": [
                                            "arn:aws:iam::115177268320:role/ci-role-4aa13de",
                                            "arn:aws:iam::115177268320:user/cloud_user"
                                        ]
                                    },
                                    "resource": "*"
                                }
                            ],
                            "version": "2012-10-17"
                        },
                        "keySpec": "SYMMETRIC_DEFAULT",
                        "keyUsage": "ENCRYPT_DECRYPT",
                        "multiRegion": false,
                        "tags": []
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:Role::ci-role"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::5c182eb6-80ea-4f9f-a9a2-3421f4ede6f4",
                    "propertyDependencies": {
                        "keyPolicy": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:iam:Role::ci-role"
                        ]
                    },
                    "sequenceNumber": 1
                },
                {
                    "urn": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Alias::secret-key-alias",
                    "custom": true,
                    "id": "alias/pulumi",
                    "type": "aws-native:kms:Alias",
                    "inputs": {
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "fdb34586-2bef-4e1e-8b22-e7c4eeec8e0f"
                    },
                    "outputs": {
                        "__inputs": {
                            "4dabf18193072939515e22adb298388d": "1b47061264138c4ac30d75fd1eb44270",
                            "ciphertext": "v1:e9hir3CyrfX9XOOv:m6LZEOXsNzPVEjby46BMeouFvoFeqJjQ7TEXv4WzUMcTfqzyMBDbEIpMw1F3Iw104kU5arg7RTEPqgkX3i/duf5oRvoiaX5b6XDVD9V4ww9b6nGjFNCcV2MuKsNhDv413g=="
                        },
                        "aliasName": "alias/pulumi",
                        "targetKeyId": "fdb34586-2bef-4e1e-8b22-e7c4eeec8e0f"
                    },
                    "parent": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:pulumi:Stack::bootstrap-bootstrap-00_aws-dev",
                    "dependencies": [
                        "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key"
                    ],
                    "provider": "urn:pulumi:bootstrap-00_aws-dev::bootstrap::pulumi:providers:aws-native::default::5c182eb6-80ea-4f9f-a9a2-3421f4ede6f4",
                    "propertyDependencies": {
                        "targetKeyId": [
                            "urn:pulumi:bootstrap-00_aws-dev::bootstrap::aws-native:kms:Key::secret-key"
                        ]
                    },
                    "sequenceNumber": 1
                }
            ]
        }
    }
}